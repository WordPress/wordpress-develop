{"version":3,"names":["_classnames","_interopRequireDefault","require","_element","_components","_i18n","_keycodes","_data","_blockEditor","_blob","_compose","_icons","_coreData","_shared","_constants","isTemporaryImage","id","url","isBlobURL","GalleryImage","Component","constructor","arguments","onSelectImage","bind","onRemoveImage","bindContainer","onEdit","onSelectImageFromLibrary","onSelectCustomURL","state","isEditing","ref","container","props","isSelected","onSelect","event","ownerDocument","activeElement","BACKSPACE","DELETE","indexOf","keyCode","preventDefault","onRemove","setState","componentDidUpdate","image","__unstableMarkNextChangeAsNotPersistent","setAttributes","source_url","alt","alt_text","deselectOnBlur","onDeselect","media","caption","sizeSlug","mediaAttributes","pickRelevantMediaFiles","omittedAlt","restMediaAttributes","omittedCaption","newURL","undefined","render","linkTo","link","isFirstItem","isLastItem","onMoveForward","onMoveBackward","ariaLabel","href","LINK_DESTINATION_MEDIA","LINK_DESTINATION_ATTACHMENT","img","_react","createElement","Fragment","src","onKeyDown","tabIndex","Spinner","className","classnames","onClick","onFocus","MediaPlaceholder","labels","title","__","icon","imageIcon","onSelectURL","accept","allowedTypes","value","ButtonGroup","Button","chevronLeft","label","disabled","chevronRight","edit","closeSmall","RichText","tagName","__experimentalGetElementClassName","placeholder","onChange","newCaption","inlineToolbar","_default","exports","default","compose","withSelect","select","ownProps","getMedia","coreStore","parseInt","withDispatch","dispatch","blockEditorStore"],"sources":["@wordpress/block-library/src/gallery/v1/gallery-image.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { Button, Spinner, ButtonGroup } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { BACKSPACE, DELETE } from '@wordpress/keycodes';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport {\n\tRichText,\n\tMediaPlaceholder,\n\tstore as blockEditorStore,\n\t__experimentalGetElementClassName,\n} from '@wordpress/block-editor';\nimport { isBlobURL } from '@wordpress/blob';\nimport { compose } from '@wordpress/compose';\nimport {\n\tcloseSmall,\n\tchevronLeft,\n\tchevronRight,\n\tedit,\n\timage as imageIcon,\n} from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { pickRelevantMediaFiles } from './shared';\nimport {\n\tLINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_MEDIA,\n} from './constants';\n\nconst isTemporaryImage = ( id, url ) => ! id && isBlobURL( url );\n\nclass GalleryImage extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onSelectImage = this.onSelectImage.bind( this );\n\t\tthis.onRemoveImage = this.onRemoveImage.bind( this );\n\t\tthis.bindContainer = this.bindContainer.bind( this );\n\t\tthis.onEdit = this.onEdit.bind( this );\n\t\tthis.onSelectImageFromLibrary =\n\t\t\tthis.onSelectImageFromLibrary.bind( this );\n\t\tthis.onSelectCustomURL = this.onSelectCustomURL.bind( this );\n\t\tthis.state = {\n\t\t\tisEditing: false,\n\t\t};\n\t}\n\n\tbindContainer( ref ) {\n\t\tthis.container = ref;\n\t}\n\n\tonSelectImage() {\n\t\tif ( ! this.props.isSelected ) {\n\t\t\tthis.props.onSelect();\n\t\t}\n\t}\n\n\tonRemoveImage( event ) {\n\t\tif (\n\t\t\tthis.container === this.container.ownerDocument.activeElement &&\n\t\t\tthis.props.isSelected &&\n\t\t\t[ BACKSPACE, DELETE ].indexOf( event.keyCode ) !== -1\n\t\t) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.props.onRemove();\n\t\t}\n\t}\n\n\tonEdit() {\n\t\tthis.setState( {\n\t\t\tisEditing: true,\n\t\t} );\n\t}\n\n\tcomponentDidUpdate() {\n\t\tconst { image, url, __unstableMarkNextChangeAsNotPersistent } =\n\t\t\tthis.props;\n\t\tif ( image && ! url ) {\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\tthis.props.setAttributes( {\n\t\t\t\turl: image.source_url,\n\t\t\t\talt: image.alt_text,\n\t\t\t} );\n\t\t}\n\t}\n\n\tdeselectOnBlur() {\n\t\tthis.props.onDeselect();\n\t}\n\n\tonSelectImageFromLibrary( media ) {\n\t\tconst { setAttributes, id, url, alt, caption, sizeSlug } = this.props;\n\t\tif ( ! media || ! media.url ) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet mediaAttributes = pickRelevantMediaFiles( media, sizeSlug );\n\n\t\t// If the current image is temporary but an alt text was meanwhile\n\t\t// written by the user, make sure the text is not overwritten.\n\t\tif ( isTemporaryImage( id, url ) ) {\n\t\t\tif ( alt ) {\n\t\t\t\tconst { alt: omittedAlt, ...restMediaAttributes } =\n\t\t\t\t\tmediaAttributes;\n\t\t\t\tmediaAttributes = restMediaAttributes;\n\t\t\t}\n\t\t}\n\n\t\t// If a caption text was meanwhile written by the user,\n\t\t// make sure the text is not overwritten by empty captions.\n\t\tif ( caption && ! mediaAttributes.caption ) {\n\t\t\tconst { caption: omittedCaption, ...restMediaAttributes } =\n\t\t\t\tmediaAttributes;\n\t\t\tmediaAttributes = restMediaAttributes;\n\t\t}\n\n\t\tsetAttributes( mediaAttributes );\n\t\tthis.setState( {\n\t\t\tisEditing: false,\n\t\t} );\n\t}\n\n\tonSelectCustomURL( newURL ) {\n\t\tconst { setAttributes, url } = this.props;\n\t\tif ( newURL !== url ) {\n\t\t\tsetAttributes( {\n\t\t\t\turl: newURL,\n\t\t\t\tid: undefined,\n\t\t\t} );\n\t\t\tthis.setState( {\n\t\t\t\tisEditing: false,\n\t\t\t} );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\turl,\n\t\t\talt,\n\t\t\tid,\n\t\t\tlinkTo,\n\t\t\tlink,\n\t\t\tisFirstItem,\n\t\t\tisLastItem,\n\t\t\tisSelected,\n\t\t\tcaption,\n\t\t\tonRemove,\n\t\t\tonMoveForward,\n\t\t\tonMoveBackward,\n\t\t\tsetAttributes,\n\t\t\t'aria-label': ariaLabel,\n\t\t} = this.props;\n\t\tconst { isEditing } = this.state;\n\n\t\tlet href;\n\n\t\tswitch ( linkTo ) {\n\t\t\tcase LINK_DESTINATION_MEDIA:\n\t\t\t\thref = url;\n\t\t\t\tbreak;\n\t\t\tcase LINK_DESTINATION_ATTACHMENT:\n\t\t\t\thref = link;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tconst img = (\n\t\t\t// Disable reason: Image itself is not meant to be interactive, but should\n\t\t\t// direct image selection and unfocus caption fields.\n\t\t\t/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n\t\t\t<>\n\t\t\t\t<img\n\t\t\t\t\tsrc={ url }\n\t\t\t\t\talt={ alt }\n\t\t\t\t\tdata-id={ id }\n\t\t\t\t\tonKeyDown={ this.onRemoveImage }\n\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\taria-label={ ariaLabel }\n\t\t\t\t\tref={ this.bindContainer }\n\t\t\t\t/>\n\t\t\t\t{ isBlobURL( url ) && <Spinner /> }\n\t\t\t</>\n\t\t\t/* eslint-enable jsx-a11y/no-noninteractive-element-interactions */\n\t\t);\n\n\t\tconst className = classnames( {\n\t\t\t'is-selected': isSelected,\n\t\t\t'is-transient': isBlobURL( url ),\n\t\t} );\n\n\t\treturn (\n\t\t\t// eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-noninteractive-element-interactions\n\t\t\t<figure\n\t\t\t\tclassName={ className }\n\t\t\t\tonClick={ this.onSelectImage }\n\t\t\t\tonFocus={ this.onSelectImage }\n\t\t\t>\n\t\t\t\t{ ! isEditing && ( href ? <a href={ href }>{ img }</a> : img ) }\n\t\t\t\t{ isEditing && (\n\t\t\t\t\t<MediaPlaceholder\n\t\t\t\t\t\tlabels={ { title: __( 'Edit gallery image' ) } }\n\t\t\t\t\t\ticon={ imageIcon }\n\t\t\t\t\t\tonSelect={ this.onSelectImageFromLibrary }\n\t\t\t\t\t\tonSelectURL={ this.onSelectCustomURL }\n\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\tallowedTypes={ [ 'image' ] }\n\t\t\t\t\t\tvalue={ { id, src: url } }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<ButtonGroup className=\"block-library-gallery-item__inline-menu is-left\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={ chevronLeft }\n\t\t\t\t\t\tonClick={ isFirstItem ? undefined : onMoveBackward }\n\t\t\t\t\t\tlabel={ __( 'Move image backward' ) }\n\t\t\t\t\t\taria-disabled={ isFirstItem }\n\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={ chevronRight }\n\t\t\t\t\t\tonClick={ isLastItem ? undefined : onMoveForward }\n\t\t\t\t\t\tlabel={ __( 'Move image forward' ) }\n\t\t\t\t\t\taria-disabled={ isLastItem }\n\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t/>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t<ButtonGroup className=\"block-library-gallery-item__inline-menu is-right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={ edit }\n\t\t\t\t\t\tonClick={ this.onEdit }\n\t\t\t\t\t\tlabel={ __( 'Replace image' ) }\n\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\tonClick={ onRemove }\n\t\t\t\t\t\tlabel={ __( 'Remove image' ) }\n\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t/>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t{ ! isEditing && ( isSelected || caption ) && (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName={ __experimentalGetElementClassName(\n\t\t\t\t\t\t\t'caption'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\taria-label={ __( 'Image caption text' ) }\n\t\t\t\t\t\tplaceholder={ isSelected ? __( 'Add caption' ) : null }\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\tonChange={ ( newCaption ) =>\n\t\t\t\t\t\t\tsetAttributes( { caption: newCaption } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinlineToolbar\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select, ownProps ) => {\n\t\tconst { getMedia } = select( coreStore );\n\t\tconst { id } = ownProps;\n\n\t\treturn {\n\t\t\timage: id ? getMedia( parseInt( id, 10 ) ) : null,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { __unstableMarkNextChangeAsNotPersistent } =\n\t\t\tdispatch( blockEditorStore );\n\t\treturn {\n\t\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\t};\n\t} ),\n] )( GalleryImage );\n"],"mappings":"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"}