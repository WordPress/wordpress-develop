{"version":3,"names":["_classnames","_interopRequireDefault","require","_blockEditor","_blocks","_constants","_shared","DEPRECATED_LINK_DESTINATION_MEDIA","DEPRECATED_LINK_DESTINATION_ATTACHMENT","defaultColumnsNumberV1","attributes","Math","min","images","length","getHrefAndDestination","image","destination","href","source_url","url","linkDestination","LINK_DESTINATION_MEDIA","link","LINK_DESTINATION_ATTACHMENT","LINK_DESTINATION_NONE","undefined","runV2Migration","linkTo","imageBlocks","map","getImageBlock","sizeSlug","ids","restAttributes","allowResize","createBlock","id","parseInt","alt","caption","v7","type","default","source","selector","query","attribute","fullUrl","items","shortCodeTransforms","columns","minimum","maximum","imageCrop","fixedHeight","linkTarget","save","className","classnames","blockProps","useBlockProps","innerBlocksProps","useInnerBlocksProps","_react","createElement","children","RichText","isEmpty","Content","tagName","value","v6","supports","anchor","align","img","src","key","migrate","isGalleryV2Enabled","v5","isEligible","v4","some","_attributes$ids","parsedId","Number","isInteger","v3","v2","index","_attributes$images","v1","alignnone","_default","exports"],"sources":["@wordpress/block-library/src/gallery/deprecated.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n} from '@wordpress/block-editor';\n\nimport { createBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport {\n\tLINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_MEDIA,\n\tLINK_DESTINATION_NONE,\n} from './constants';\nimport { isGalleryV2Enabled } from './shared';\n\nconst DEPRECATED_LINK_DESTINATION_MEDIA = 'file';\nconst DEPRECATED_LINK_DESTINATION_ATTACHMENT = 'post';\n\n/**\n * Original function to determine default number of columns from a block's\n * attributes.\n *\n * Used in deprecations: v1-6, for versions of the gallery block that didn't use inner blocks.\n *\n * @param {Object} attributes Block attributes.\n * @return {number}           Default number of columns for the gallery.\n */\nexport function defaultColumnsNumberV1( attributes ) {\n\treturn Math.min( 3, attributes?.images?.length );\n}\n\n/**\n * Original function to determine new href and linkDestination values for an image block from the\n * supplied Gallery link destination.\n *\n * Used in deprecations: v1-6.\n *\n * @param {Object} image       Gallery image.\n * @param {string} destination Gallery's selected link destination.\n * @return {Object}            New attributes to assign to image block.\n */\nexport function getHrefAndDestination( image, destination ) {\n\t// Need to determine the URL that the selected destination maps to.\n\t// Gutenberg and WordPress use different constants so the new link\n\t// destination also needs to be tweaked.\n\tswitch ( destination ) {\n\t\tcase DEPRECATED_LINK_DESTINATION_MEDIA:\n\t\t\treturn {\n\t\t\t\thref: image?.source_url || image?.url, // eslint-disable-line camelcase\n\t\t\t\tlinkDestination: LINK_DESTINATION_MEDIA,\n\t\t\t};\n\t\tcase DEPRECATED_LINK_DESTINATION_ATTACHMENT:\n\t\t\treturn {\n\t\t\t\thref: image?.link,\n\t\t\t\tlinkDestination: LINK_DESTINATION_ATTACHMENT,\n\t\t\t};\n\t\tcase LINK_DESTINATION_MEDIA:\n\t\t\treturn {\n\t\t\t\thref: image?.source_url || image?.url, // eslint-disable-line camelcase\n\t\t\t\tlinkDestination: LINK_DESTINATION_MEDIA,\n\t\t\t};\n\t\tcase LINK_DESTINATION_ATTACHMENT:\n\t\t\treturn {\n\t\t\t\thref: image?.link,\n\t\t\t\tlinkDestination: LINK_DESTINATION_ATTACHMENT,\n\t\t\t};\n\t\tcase LINK_DESTINATION_NONE:\n\t\t\treturn {\n\t\t\t\thref: undefined,\n\t\t\t\tlinkDestination: LINK_DESTINATION_NONE,\n\t\t\t};\n\t}\n\n\treturn {};\n}\n\nfunction runV2Migration( attributes ) {\n\tlet linkTo = attributes.linkTo ? attributes.linkTo : 'none';\n\n\tif ( linkTo === 'post' ) {\n\t\tlinkTo = 'attachment';\n\t} else if ( linkTo === 'file' ) {\n\t\tlinkTo = 'media';\n\t}\n\n\tconst imageBlocks = attributes.images.map( ( image ) => {\n\t\treturn getImageBlock( image, attributes.sizeSlug, linkTo );\n\t} );\n\n\tconst { images, ids, ...restAttributes } = attributes;\n\n\treturn [\n\t\t{\n\t\t\t...restAttributes,\n\t\t\tlinkTo,\n\t\t\tallowResize: false,\n\t\t},\n\t\timageBlocks,\n\t];\n}\n/**\n * Gets an Image block from gallery image data\n *\n * Used to migrate Galleries to nested Image InnerBlocks.\n *\n * @param {Object} image    Image properties.\n * @param {string} sizeSlug Gallery sizeSlug attribute.\n * @param {string} linkTo   Gallery linkTo attribute.\n * @return {Object}         Image block.\n */\nexport function getImageBlock( image, sizeSlug, linkTo ) {\n\treturn createBlock( 'core/image', {\n\t\t...( image.id && { id: parseInt( image.id ) } ),\n\t\turl: image.url,\n\t\talt: image.alt,\n\t\tcaption: image.caption,\n\t\tsizeSlug,\n\t\t...getHrefAndDestination( image, linkTo ),\n\t} );\n}\n\n// In #41140 support was added to global styles for caption elements which added a `wp-element-caption` classname\n// to the gallery figcaption element.\nconst v7 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: '.blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\tfullUrl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-full-url',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: '.blocks-gallery-item__caption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tids: {\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t\tdefault: [],\n\t\t},\n\t\tshortCodeTransforms: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\titems: {\n\t\t\t\ttype: 'object',\n\t\t\t},\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t\tminimum: 1,\n\t\t\tmaximum: 8,\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.blocks-gallery-caption',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tfixedHeight: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTarget: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tsizeSlug: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'large',\n\t\t},\n\t\tallowResize: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tsave( { attributes } ) {\n\t\tconst { caption, columns, imageCrop } = attributes;\n\n\t\tconst className = classnames( 'has-nested-images', {\n\t\t\t[ `columns-${ columns }` ]: columns !== undefined,\n\t\t\t[ `columns-default` ]: columns === undefined,\n\t\t\t'is-cropped': imageCrop,\n\t\t} );\n\t\tconst blockProps = useBlockProps.save( { className } );\n\t\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\n\n\t\treturn (\n\t\t\t<figure { ...innerBlocksProps }>\n\t\t\t\t{ innerBlocksProps.children }\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName=\"blocks-gallery-caption\"\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n};\n\nconst v6 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: '.blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\tfullUrl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-full-url',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: '.blocks-gallery-item__caption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tids: {\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t\tdefault: [],\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t\tminimum: 1,\n\t\t\tmaximum: 8,\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.blocks-gallery-caption',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tfixedHeight: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tsizeSlug: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'large',\n\t\t},\n\t},\n\tsupports: {\n\t\tanchor: true,\n\t\talign: true,\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\timageCrop,\n\t\t\tcaption,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\t\tconst className = `columns-${ columns } ${\n\t\t\timageCrop ? 'is-cropped' : ''\n\t\t}`;\n\n\t\treturn (\n\t\t\t<figure { ...useBlockProps.save( { className } ) }>\n\t\t\t\t<ul className=\"blocks-gallery-grid\">\n\t\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\t\tlet href;\n\n\t\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\t\tcase DEPRECATED_LINK_DESTINATION_MEDIA:\n\t\t\t\t\t\t\t\thref = image.fullUrl || image.url;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase DEPRECATED_LINK_DESTINATION_ATTACHMENT:\n\t\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst img = (\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\n\t\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t{ href ? (\n\t\t\t\t\t\t\t\t\t\t<a href={ href }>{ img }</a>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\timg\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ ! RichText.isEmpty( image.caption ) && (\n\t\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item__caption\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</ul>\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName=\"blocks-gallery-caption\"\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\n\t\treturn attributes;\n\t},\n};\nconst v5 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: '.blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\tfullUrl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-full-url',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: '.blocks-gallery-item__caption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tids: {\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t\tdefault: [],\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t\tminimum: 1,\n\t\t\tmaximum: 8,\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.blocks-gallery-caption',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t\tsizeSlug: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'large',\n\t\t},\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\tisEligible( { linkTo } ) {\n\t\treturn ! linkTo || linkTo === 'attachment' || linkTo === 'media';\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\n\t\tlet linkTo = attributes.linkTo;\n\n\t\tif ( ! attributes.linkTo ) {\n\t\t\tlinkTo = 'none';\n\t\t} else if ( attributes.linkTo === 'attachment' ) {\n\t\t\tlinkTo = 'post';\n\t\t} else if ( attributes.linkTo === 'media' ) {\n\t\t\tlinkTo = 'file';\n\t\t}\n\t\treturn {\n\t\t\t...attributes,\n\t\t\tlinkTo,\n\t\t};\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\timageCrop,\n\t\t\tcaption,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\n\t\treturn (\n\t\t\t<figure\n\t\t\t\tclassName={ `columns-${ columns } ${\n\t\t\t\t\timageCrop ? 'is-cropped' : ''\n\t\t\t\t}` }\n\t\t\t>\n\t\t\t\t<ul className=\"blocks-gallery-grid\">\n\t\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\t\tlet href;\n\n\t\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\t\thref = image.fullUrl || image.url;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst img = (\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\n\t\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t{ href ? (\n\t\t\t\t\t\t\t\t\t\t<a href={ href }>{ img }</a>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\timg\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ ! RichText.isEmpty( image.caption ) && (\n\t\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item__caption\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</ul>\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName=\"blocks-gallery-caption\"\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n};\n\nconst v4 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: '.blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\tfullUrl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-full-url',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: '.blocks-gallery-item__caption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tids: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.blocks-gallery-caption',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\tisEligible( { ids } ) {\n\t\treturn ids && ids.some( ( id ) => typeof id === 'string' );\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\n\t\treturn {\n\t\t\t...attributes,\n\t\t\tids: ( attributes.ids ?? [] ).map( ( id ) => {\n\t\t\t\tconst parsedId = parseInt( id, 10 );\n\t\t\t\treturn Number.isInteger( parsedId ) ? parsedId : null;\n\t\t\t} ),\n\t\t};\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\timageCrop,\n\t\t\tcaption,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\n\t\treturn (\n\t\t\t<figure\n\t\t\t\tclassName={ `columns-${ columns } ${\n\t\t\t\t\timageCrop ? 'is-cropped' : ''\n\t\t\t\t}` }\n\t\t\t>\n\t\t\t\t<ul className=\"blocks-gallery-grid\">\n\t\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\t\tlet href;\n\n\t\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\t\thref = image.fullUrl || image.url;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst img = (\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\n\t\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t{ href ? (\n\t\t\t\t\t\t\t\t\t\t<a href={ href }>{ img }</a>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\timg\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ ! RichText.isEmpty( image.caption ) && (\n\t\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item__caption\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</ul>\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName=\"blocks-gallery-caption\"\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n};\nconst v3 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'ul.wp-block-gallery .blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\tfullUrl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-full-url',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: 'figcaption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tids: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\timageCrop,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\t\treturn (\n\t\t\t<ul\n\t\t\t\tclassName={ `columns-${ columns } ${\n\t\t\t\t\timageCrop ? 'is-cropped' : ''\n\t\t\t\t}` }\n\t\t\t>\n\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\tlet href;\n\n\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\thref = image.fullUrl || image.url;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst img = (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\n\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t\t\t{ image.caption && image.caption.length > 0 && (\n\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t);\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\t\treturn attributes;\n\t},\n};\nconst v2 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'ul.wp-block-gallery .blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: 'figcaption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t},\n\tisEligible( { images, ids } ) {\n\t\treturn (\n\t\t\timages &&\n\t\t\timages.length > 0 &&\n\t\t\t( ( ! ids && images ) ||\n\t\t\t\t( ids && images && ids.length !== images.length ) ||\n\t\t\t\timages.some( ( id, index ) => {\n\t\t\t\t\tif ( ! id && ids[ index ] !== null ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn parseInt( id, 10 ) !== ids[ index ];\n\t\t\t\t} ) )\n\t\t);\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\t\treturn {\n\t\t\t...attributes,\n\t\t\tids: ( attributes.images ?? [] ).map( ( { id } ) => {\n\t\t\t\tif ( ! id ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn parseInt( id, 10 );\n\t\t\t} ),\n\t\t};\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\timageCrop,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\t\treturn (\n\t\t\t<ul\n\t\t\t\tclassName={ `columns-${ columns } ${\n\t\t\t\t\timageCrop ? 'is-cropped' : ''\n\t\t\t\t}` }\n\t\t\t>\n\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\tlet href;\n\n\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\thref = image.url;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst img = (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t\t\t{ image.caption && image.caption.length > 0 && (\n\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t);\n\t},\n};\n\nconst v1 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'div.wp-block-gallery figure.blocks-gallery-image img',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t\talign: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\talign,\n\t\t\timageCrop,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\t\tconst className = classnames( `columns-${ columns }`, {\n\t\t\talignnone: align === 'none',\n\t\t\t'is-cropped': imageCrop,\n\t\t} );\n\t\treturn (\n\t\t\t<div className={ className }>\n\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\tlet href;\n\n\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\thref = image.url;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst img = (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<figure\n\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-image\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</div>\n\t\t);\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\n\t\treturn attributes;\n\t},\n};\n\nexport default [ v7, v6, v5, v4, v3, v2, v1 ];\n"],"mappings":"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"}