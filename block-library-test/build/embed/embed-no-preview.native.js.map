{"version":3,"names":["_reactNative","require","_primitives","_i18n","_element","_compose","_reactNativeBridge","_data","_editor","_components","_icons","_blockEditor","_styles","_interopRequireDefault","EmbedNoPreview","label","icon","isSelected","onPress","previewable","isDefaultEmbedInfo","shouldRequestReview","useRef","isSheetVisible","setIsSheetVisible","useState","postType","useSelect","select","editorStore","getEditedPostAttribute","containerStyle","usePreferredColorSchemeStyle","styles","embed__container","labelStyle","embed__label","descriptionStyle","embed__description","helpIconStyle","sheetIconStyle","sheetTitleStyle","sheetDescriptionStyle","sheetButtonStyle","previewButtonA11yHint","__","previewButtonText","comingSoonDescription","sprintf","onOpenSheet","onCloseSheet","onDismissSheet","current","requestPreview","onPressContainer","onPressHelp","embedNoProviderPreview","_react","createElement","Fragment","TouchableWithoutFeedback","accessibilityRole","accessibilityHint","disabled","View","style","BlockIcon","Text","embed__action","toUpperCase","TouchableOpacity","accessibilityLabel","Icon","help","fill","size","width","BottomSheet","isVisible","hideHeader","onDismiss","onClose","testID","TextControl","separatorType","_default","exports","default"],"sources":["@wordpress/block-library/src/embed/embed-no-preview.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { TouchableOpacity, TouchableWithoutFeedback, Text } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { View } from '@wordpress/primitives';\n\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useRef, useState } from '@wordpress/element';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport { requestPreview } from '@wordpress/react-native-bridge';\nimport { useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { BottomSheet, Icon, TextControl } from '@wordpress/components';\nimport { help } from '@wordpress/icons';\nimport { BlockIcon } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport styles from './styles.scss';\n\nconst EmbedNoPreview = ( {\n\tlabel,\n\ticon,\n\tisSelected,\n\tonPress,\n\tpreviewable,\n\tisDefaultEmbedInfo,\n} ) => {\n\tconst shouldRequestReview = useRef( false );\n\tconst [ isSheetVisible, setIsSheetVisible ] = useState( false );\n\n\tconst { postType } = useSelect( ( select ) => ( {\n\t\tpostType: select( editorStore ).getEditedPostAttribute( 'type' ),\n\t} ) );\n\n\tconst containerStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__container,\n\t\tstyles[ 'embed__container--dark' ]\n\t);\n\tconst labelStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__label,\n\t\tstyles[ 'embed__label--dark' ]\n\t);\n\tconst descriptionStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__description,\n\t\tstyles[ 'embed__description--dark' ]\n\t);\n\tconst helpIconStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__help-icon' ],\n\t\tstyles[ 'embed-no-preview__help-icon--dark' ]\n\t);\n\n\tconst sheetIconStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-icon' ],\n\t\tstyles[ 'embed-no-preview__sheet-icon--dark' ]\n\t);\n\tconst sheetTitleStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-title' ],\n\t\tstyles[ 'embed-no-preview__sheet-title--dark' ]\n\t);\n\tconst sheetDescriptionStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-description' ],\n\t\tstyles[ 'embed-no-preview__sheet-description--dark' ]\n\t);\n\tconst sheetButtonStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-button' ],\n\t\tstyles[ 'embed-no-preview__sheet-button--dark' ]\n\t);\n\n\tconst previewButtonA11yHint =\n\t\tpostType === 'page'\n\t\t\t? __( 'Double tap to preview page.' )\n\t\t\t: __( 'Double tap to preview post.' );\n\tconst previewButtonText =\n\t\tpostType === 'page' ? __( 'Preview page' ) : __( 'Preview post' );\n\tconst comingSoonDescription =\n\t\tpostType === 'page'\n\t\t\t? sprintf(\n\t\t\t\t\t// translators: %s: embed block variant's label e.g: \"Twitter\".\n\t\t\t\t\t__(\n\t\t\t\t\t\t'We’re working hard on adding support for %s previews. In the meantime, you can preview the embedded content on the page.'\n\t\t\t\t\t),\n\t\t\t\t\tlabel\n\t\t\t  )\n\t\t\t: sprintf(\n\t\t\t\t\t// translators: %s: embed block variant's label e.g: \"Twitter\".\n\t\t\t\t\t__(\n\t\t\t\t\t\t'We’re working hard on adding support for %s previews. In the meantime, you can preview the embedded content on the post.'\n\t\t\t\t\t),\n\t\t\t\t\tlabel\n\t\t\t  );\n\n\tfunction onOpenSheet() {\n\t\tsetIsSheetVisible( true );\n\t}\n\n\tfunction onCloseSheet() {\n\t\tsetIsSheetVisible( false );\n\t}\n\n\tfunction onDismissSheet() {\n\t\t// The preview request has to be done after the bottom sheet modal is dismissed,\n\t\t// otherwise the preview native modal is not displayed.\n\t\tif ( shouldRequestReview.current ) {\n\t\t\trequestPreview();\n\t\t}\n\t\tshouldRequestReview.current = false;\n\t}\n\n\tfunction onPressContainer() {\n\t\tonPress();\n\t\tonOpenSheet();\n\t}\n\n\tfunction onPressHelp() {\n\t\tonPressContainer();\n\t}\n\n\tconst embedNoProviderPreview = (\n\t\t<>\n\t\t\t<TouchableWithoutFeedback\n\t\t\t\taccessibilityRole={ 'button' }\n\t\t\t\taccessibilityHint={ previewButtonA11yHint }\n\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\tonPress={ onPressContainer }\n\t\t\t>\n\t\t\t\t<View style={ containerStyle }>\n\t\t\t\t\t<BlockIcon icon={ icon } />\n\t\t\t\t\t<Text style={ labelStyle }>{ label }</Text>\n\t\t\t\t\t<Text style={ descriptionStyle }>\n\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t// translators: %s: embed block variant's label e.g: \"Twitter\".\n\t\t\t\t\t\t\t__( '%s previews not yet available' ),\n\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text style={ styles.embed__action }>\n\t\t\t\t\t\t{ previewButtonText.toUpperCase() }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\taccessibilityHint={ __( 'Tap here to show help' ) }\n\t\t\t\t\t\taccessibilityLabel={ __( 'Help button' ) }\n\t\t\t\t\t\taccessibilityRole={ 'button' }\n\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t\tonPress={ onPressHelp }\n\t\t\t\t\t\tstyle={ helpIconStyle }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ticon={ help }\n\t\t\t\t\t\t\tfill={ helpIconStyle.fill }\n\t\t\t\t\t\t\tsize={ helpIconStyle.width }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</View>\n\t\t\t</TouchableWithoutFeedback>\n\t\t\t<BottomSheet\n\t\t\t\tisVisible={ isSheetVisible }\n\t\t\t\thideHeader\n\t\t\t\tonDismiss={ onDismissSheet }\n\t\t\t\tonClose={ onCloseSheet }\n\t\t\t\ttestID=\"embed-no-preview-modal\"\n\t\t\t>\n\t\t\t\t<View style={ styles[ 'embed-no-preview__container' ] }>\n\t\t\t\t\t<View style={ sheetIconStyle }>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ticon={ help }\n\t\t\t\t\t\t\tfill={ sheetIconStyle.fill }\n\t\t\t\t\t\t\tsize={ sheetIconStyle.width }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</View>\n\t\t\t\t\t<Text style={ sheetTitleStyle }>\n\t\t\t\t\t\t{ isDefaultEmbedInfo\n\t\t\t\t\t\t\t? __( 'Embed block previews are coming soon' )\n\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t// translators: %s: embed block variant's label e.g: \"Twitter\".\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'%s embed block previews are coming soon'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text style={ sheetDescriptionStyle }>\n\t\t\t\t\t\t{ comingSoonDescription }\n\t\t\t\t\t</Text>\n\t\t\t\t</View>\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ previewButtonText }\n\t\t\t\t\tseparatorType=\"topFullWidth\"\n\t\t\t\t\tonPress={ () => {\n\t\t\t\t\t\tshouldRequestReview.current = true;\n\t\t\t\t\t\tonCloseSheet();\n\t\t\t\t\t} }\n\t\t\t\t\tlabelStyle={ sheetButtonStyle }\n\t\t\t\t/>\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ __( 'Dismiss' ) }\n\t\t\t\t\tseparatorType=\"topFullWidth\"\n\t\t\t\t\tonPress={ onCloseSheet }\n\t\t\t\t\tlabelStyle={ sheetButtonStyle }\n\t\t\t\t/>\n\t\t\t</BottomSheet>\n\t\t</>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{ previewable ? (\n\t\t\t\tembedNoProviderPreview\n\t\t\t) : (\n\t\t\t\t<View style={ containerStyle }>\n\t\t\t\t\t<BlockIcon icon={ icon } />\n\t\t\t\t\t<Text style={ labelStyle }>\n\t\t\t\t\t\t{ __( 'No preview available' ) }\n\t\t\t\t\t</Text>\n\t\t\t\t</View>\n\t\t\t) }\n\t\t</>\n\t);\n};\n\nexport default EmbedNoPreview;\n"],"mappings":"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"}