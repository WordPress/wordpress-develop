{"version":3,"names":["_i18n","require","_components","_data","_coreData","_element","AUTHORS_QUERY","who","per_page","_fields","context","UserControl","value","onChange","filteredAuthorsList","setFilteredAuthorsList","useState","authorsList","useSelect","select","getUsers","coreStore","options","map","author","label","name","id","_react","createElement","ComboboxControl","__nextHasNoMarginBottom","__","help","onFilterValueChange","inputValue","filter","option","toLowerCase","startsWith","_default","exports","default"],"sources":["@wordpress/block-library/src/avatar/user-control.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { ComboboxControl } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useState } from '@wordpress/element';\n\nconst AUTHORS_QUERY = {\n\twho: 'authors',\n\tper_page: -1,\n\t_fields: 'id,name',\n\tcontext: 'view',\n};\n\nfunction UserControl( { value, onChange } ) {\n\tconst [ filteredAuthorsList, setFilteredAuthorsList ] = useState();\n\tconst authorsList = useSelect( ( select ) => {\n\t\tconst { getUsers } = select( coreStore );\n\t\treturn getUsers( AUTHORS_QUERY );\n\t}, [] );\n\tif ( ! authorsList ) {\n\t\treturn null;\n\t}\n\n\tconst options = authorsList.map( ( author ) => {\n\t\treturn {\n\t\t\tlabel: author.name,\n\t\t\tvalue: author.id,\n\t\t};\n\t} );\n\n\treturn (\n\t\t<ComboboxControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\tlabel={ __( 'User' ) }\n\t\t\thelp={ __(\n\t\t\t\t'Select the avatar user to display, if it is blank it will use the post/page author.'\n\t\t\t) }\n\t\t\tvalue={ value }\n\t\t\tonChange={ onChange }\n\t\t\toptions={ filteredAuthorsList || options }\n\t\t\tonFilterValueChange={ ( inputValue ) =>\n\t\t\t\tsetFilteredAuthorsList(\n\t\t\t\t\toptions.filter( ( option ) =>\n\t\t\t\t\t\toption.label\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.startsWith( inputValue.toLowerCase() )\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t);\n}\n\nexport default UserControl;\n"],"mappings":";;;;;;;AAGA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AACA,IAAAG,SAAA,GAAAH,OAAA;AACA,IAAAI,QAAA,GAAAJ,OAAA;AAPA;AACA;AACA;;AAOA,MAAMK,aAAa,GAAG;EACrBC,GAAG,EAAE,SAAS;EACdC,QAAQ,EAAE,CAAC,CAAC;EACZC,OAAO,EAAE,SAAS;EAClBC,OAAO,EAAE;AACV,CAAC;AAED,SAASC,WAAWA,CAAE;EAAEC,KAAK;EAAEC;AAAS,CAAC,EAAG;EAC3C,MAAM,CAAEC,mBAAmB,EAAEC,sBAAsB,CAAE,GAAG,IAAAC,iBAAQ,EAAC,CAAC;EAClE,MAAMC,WAAW,GAAG,IAAAC,eAAS,EAAIC,MAAM,IAAM;IAC5C,MAAM;MAAEC;IAAS,CAAC,GAAGD,MAAM,CAAEE,eAAU,CAAC;IACxC,OAAOD,QAAQ,CAAEd,aAAc,CAAC;EACjC,CAAC,EAAE,EAAG,CAAC;EACP,IAAK,CAAEW,WAAW,EAAG;IACpB,OAAO,IAAI;EACZ;EAEA,MAAMK,OAAO,GAAGL,WAAW,CAACM,GAAG,CAAIC,MAAM,IAAM;IAC9C,OAAO;MACNC,KAAK,EAAED,MAAM,CAACE,IAAI;MAClBd,KAAK,EAAEY,MAAM,CAACG;IACf,CAAC;EACF,CAAE,CAAC;EAEH,OACC,IAAAC,MAAA,CAAAC,aAAA,EAAC3B,WAAA,CAAA4B,eAAe;IACfC,uBAAuB;IACvBN,KAAK,EAAG,IAAAO,QAAE,EAAE,MAAO,CAAG;IACtBC,IAAI,EAAG,IAAAD,QAAE,EACR,qFACD,CAAG;IACHpB,KAAK,EAAGA,KAAO;IACfC,QAAQ,EAAGA,QAAU;IACrBS,OAAO,EAAGR,mBAAmB,IAAIQ,OAAS;IAC1CY,mBAAmB,EAAKC,UAAU,IACjCpB,sBAAsB,CACrBO,OAAO,CAACc,MAAM,CAAIC,MAAM,IACvBA,MAAM,CAACZ,KAAK,CACVa,WAAW,CAAC,CAAC,CACbC,UAAU,CAAEJ,UAAU,CAACG,WAAW,CAAC,CAAE,CACxC,CACD;EACA,CACD,CAAC;AAEJ;AAAC,IAAAE,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEc/B,WAAW"}