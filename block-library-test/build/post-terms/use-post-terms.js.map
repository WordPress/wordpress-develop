{"version":3,"names":["_coreData","require","_data","EMPTY_ARRAY","usePostTerms","postId","term","slug","useSelect","select","visible","visibility","publicly_queryable","postTerms","isLoading","hasPostTerms","getEntityRecords","isResolving","coreStore","taxonomyArgs","post","per_page","context","terms","length"],"sources":["@wordpress/block-library/src/post-terms/use-post-terms.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\n\nconst EMPTY_ARRAY = [];\n\nexport default function usePostTerms( { postId, term } ) {\n\tconst { slug } = term;\n\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst visible = term?.visibility?.publicly_queryable;\n\t\t\tif ( ! visible ) {\n\t\t\t\treturn {\n\t\t\t\t\tpostTerms: EMPTY_ARRAY,\n\t\t\t\t\tisLoading: false,\n\t\t\t\t\thasPostTerms: false,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst { getEntityRecords, isResolving } = select( coreStore );\n\t\t\tconst taxonomyArgs = [\n\t\t\t\t'taxonomy',\n\t\t\t\tslug,\n\t\t\t\t{\n\t\t\t\t\tpost: postId,\n\t\t\t\t\tper_page: -1,\n\t\t\t\t\tcontext: 'view',\n\t\t\t\t},\n\t\t\t];\n\t\t\tconst terms = getEntityRecords( ...taxonomyArgs );\n\n\t\t\treturn {\n\t\t\t\tpostTerms: terms,\n\t\t\t\tisLoading: isResolving( 'getEntityRecords', taxonomyArgs ),\n\t\t\t\thasPostTerms: !! terms?.length,\n\t\t\t};\n\t\t},\n\t\t[ postId, term?.visibility?.publicly_queryable, slug ]\n\t);\n}\n"],"mappings":";;;;;;AAGA,IAAAA,SAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAJA;AACA;AACA;;AAIA,MAAME,WAAW,GAAG,EAAE;AAEP,SAASC,YAAYA,CAAE;EAAEC,MAAM;EAAEC;AAAK,CAAC,EAAG;EACxD,MAAM;IAAEC;EAAK,CAAC,GAAGD,IAAI;EAErB,OAAO,IAAAE,eAAS,EACbC,MAAM,IAAM;IACb,MAAMC,OAAO,GAAGJ,IAAI,EAAEK,UAAU,EAAEC,kBAAkB;IACpD,IAAK,CAAEF,OAAO,EAAG;MAChB,OAAO;QACNG,SAAS,EAAEV,WAAW;QACtBW,SAAS,EAAE,KAAK;QAChBC,YAAY,EAAE;MACf,CAAC;IACF;IAEA,MAAM;MAAEC,gBAAgB;MAAEC;IAAY,CAAC,GAAGR,MAAM,CAAES,eAAU,CAAC;IAC7D,MAAMC,YAAY,GAAG,CACpB,UAAU,EACVZ,IAAI,EACJ;MACCa,IAAI,EAAEf,MAAM;MACZgB,QAAQ,EAAE,CAAC,CAAC;MACZC,OAAO,EAAE;IACV,CAAC,CACD;IACD,MAAMC,KAAK,GAAGP,gBAAgB,CAAE,GAAGG,YAAa,CAAC;IAEjD,OAAO;MACNN,SAAS,EAAEU,KAAK;MAChBT,SAAS,EAAEG,WAAW,CAAE,kBAAkB,EAAEE,YAAa,CAAC;MAC1DJ,YAAY,EAAE,CAAC,CAAEQ,KAAK,EAAEC;IACzB,CAAC;EACF,CAAC,EACD,CAAEnB,MAAM,EAAEC,IAAI,EAAEK,UAAU,EAAEC,kBAAkB,EAAEL,IAAI,CACrD,CAAC;AACF"}