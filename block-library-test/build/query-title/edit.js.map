{"version":3,"names":["_classnames","_interopRequireDefault","require","_blockEditor","_components","_i18n","_data","SUPPORTED_TYPES","QueryTitleEdit","attributes","type","level","textAlign","showPrefix","showSearchTerm","setAttributes","archiveTypeTitle","archiveNameLabel","useSelect","select","getSettings","blockEditorStore","__experimentalArchiveTitleNameLabel","__experimentalArchiveTitleTypeLabel","TagName","blockProps","useBlockProps","className","classnames","includes","_react","createElement","Warning","__","titleElement","title","sprintf","Fragment","InspectorControls","PanelBody","ToggleControl","__nextHasNoMarginBottom","label","onChange","checked","BlockControls","group","HeadingLevelDropdown","value","newLevel","AlignmentControl","nextAlign"],"sources":["@wordpress/block-library/src/query-title/edit.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tAlignmentControl,\n\tBlockControls,\n\tInspectorControls,\n\tuseBlockProps,\n\tWarning,\n\tHeadingLevelDropdown,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { ToggleControl, PanelBody } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\n\nconst SUPPORTED_TYPES = [ 'archive', 'search' ];\n\nexport default function QueryTitleEdit( {\n\tattributes: { type, level, textAlign, showPrefix, showSearchTerm },\n\tsetAttributes,\n} ) {\n\tconst { archiveTypeTitle, archiveNameLabel } = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\tconst {\n\t\t\t__experimentalArchiveTitleNameLabel,\n\t\t\t__experimentalArchiveTitleTypeLabel,\n\t\t} = getSettings();\n\t\treturn {\n\t\t\tarchiveTypeTitle: __experimentalArchiveTitleTypeLabel,\n\t\t\tarchiveNameLabel: __experimentalArchiveTitleNameLabel,\n\t\t};\n\t} );\n\n\tconst TagName = `h${ level }`;\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( 'wp-block-query-title__placeholder', {\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\n\t\t} ),\n\t} );\n\n\tif ( ! SUPPORTED_TYPES.includes( type ) ) {\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<Warning>{ __( 'Provided type is not supported.' ) }</Warning>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tlet titleElement;\n\tif ( type === 'archive' ) {\n\t\tlet title;\n\t\tif ( archiveTypeTitle ) {\n\t\t\tif ( showPrefix ) {\n\t\t\t\tif ( archiveNameLabel ) {\n\t\t\t\t\ttitle = sprintf(\n\t\t\t\t\t\t/* translators: 1: Archive type title e.g: \"Category\", 2: Label of the archive e.g: \"Shoes\" */\n\t\t\t\t\t\t__( '%1$s: %2$s' ),\n\t\t\t\t\t\tarchiveTypeTitle,\n\t\t\t\t\t\tarchiveNameLabel\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\ttitle = sprintf(\n\t\t\t\t\t\t/* translators: %s: Archive type title e.g: \"Category\", \"Tag\"... */\n\t\t\t\t\t\t__( '%s: Name' ),\n\t\t\t\t\t\tarchiveTypeTitle\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if ( archiveNameLabel ) {\n\t\t\t\ttitle = archiveNameLabel;\n\t\t\t} else {\n\t\t\t\ttitle = sprintf(\n\t\t\t\t\t/* translators: %s: Archive type title e.g: \"Category\", \"Tag\"... */\n\t\t\t\t\t__( '%s name' ),\n\t\t\t\t\tarchiveTypeTitle\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\ttitle = showPrefix\n\t\t\t\t? __( 'Archive type: Name' )\n\t\t\t\t: __( 'Archive title' );\n\t\t}\n\n\t\ttitleElement = (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Show archive type in title' ) }\n\t\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\t\tsetAttributes( { showPrefix: ! showPrefix } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchecked={ showPrefix }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<TagName { ...blockProps }>{ title }</TagName>\n\t\t\t</>\n\t\t);\n\t}\n\n\tif ( type === 'search' ) {\n\t\ttitleElement = (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Show search term in title' ) }\n\t\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\tshowSearchTerm: ! showSearchTerm,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchecked={ showSearchTerm }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\n\t\t\t\t<TagName { ...blockProps }>\n\t\t\t\t\t{ showSearchTerm\n\t\t\t\t\t\t? __( 'Search results for: “search term”' )\n\t\t\t\t\t\t: __( 'Search results' ) }\n\t\t\t\t</TagName>\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t<HeadingLevelDropdown\n\t\t\t\t\tvalue={ level }\n\t\t\t\t\tonChange={ ( newLevel ) =>\n\t\t\t\t\t\tsetAttributes( { level: newLevel } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<AlignmentControl\n\t\t\t\t\tvalue={ textAlign }\n\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t{ titleElement }\n\t\t</>\n\t);\n}\n"],"mappings":"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"}