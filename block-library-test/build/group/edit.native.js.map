{"version":3,"names":["_reactNative","require","_data","_compose","_blockEditor","_element","_components","_editor","_interopRequireDefault","isFullWidth","alignmentHelpers","GroupEdit","attributes","hasInnerBlocks","isSelected","isLastInnerBlockSelected","getStylesFromColorScheme","style","blockWidth","align","resizeObserver","sizes","useResizeObserver","width","renderAppender","useCallback","_react","createElement","View","styles","groupAppender","fullwidthGroupAppender","fullwidthHasInnerGroupAppender","InnerBlocks","ButtonBlockAppender","groupPlaceholder","groupPlaceholderDark","marginVerticalDense","marginHorizontalNone","innerBlocks","backgroundColor","hasBackgroundAppender","parentWidth","_default","exports","default","compose","withSelect","select","clientId","getBlock","getBlockIndex","hasSelectedInnerBlock","getBlockRootClientId","getSelectedBlockClientId","getBlockAttributes","blockEditorStore","block","length","isInnerBlockSelected","selectedBlockClientId","totalInnerBlocks","blockIndex","parentId","parentBlockAlignment","withPreferredColorScheme"],"sources":["@wordpress/block-library/src/group/edit.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { View } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\nimport {\n\tcompose,\n\twithPreferredColorScheme,\n\tuseResizeObserver,\n} from '@wordpress/compose';\nimport {\n\tInnerBlocks,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useCallback } from '@wordpress/element';\nimport { alignmentHelpers } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport styles from './editor.scss';\n\nconst { isFullWidth } = alignmentHelpers;\n\nfunction GroupEdit( {\n\tattributes,\n\thasInnerBlocks,\n\tisSelected,\n\tisLastInnerBlockSelected,\n\tgetStylesFromColorScheme,\n\tstyle,\n\tblockWidth,\n} ) {\n\tconst { align } = attributes;\n\tconst [ resizeObserver, sizes ] = useResizeObserver();\n\tconst { width } = sizes || { width: 0 };\n\n\tconst renderAppender = useCallback(\n\t\t() => (\n\t\t\t<View\n\t\t\t\tstyle={ [\n\t\t\t\t\t! hasInnerBlocks && styles.groupAppender,\n\t\t\t\t\tisFullWidth( align ) &&\n\t\t\t\t\t\t! hasInnerBlocks &&\n\t\t\t\t\t\tstyles.fullwidthGroupAppender,\n\t\t\t\t\tisFullWidth( align ) &&\n\t\t\t\t\t\thasInnerBlocks &&\n\t\t\t\t\t\tstyles.fullwidthHasInnerGroupAppender,\n\t\t\t\t] }\n\t\t\t>\n\t\t\t\t<InnerBlocks.ButtonBlockAppender />\n\t\t\t</View>\n\t\t),\n\t\t[ align, hasInnerBlocks ]\n\t);\n\n\tif ( ! isSelected && ! hasInnerBlocks ) {\n\t\treturn (\n\t\t\t<View\n\t\t\t\tstyle={ [\n\t\t\t\t\tgetStylesFromColorScheme(\n\t\t\t\t\t\tstyles.groupPlaceholder,\n\t\t\t\t\t\tstyles.groupPlaceholderDark\n\t\t\t\t\t),\n\t\t\t\t\t! hasInnerBlocks && {\n\t\t\t\t\t\t...styles.marginVerticalDense,\n\t\t\t\t\t\t...styles.marginHorizontalNone,\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<View\n\t\t\tstyle={ [\n\t\t\t\tisSelected && hasInnerBlocks && styles.innerBlocks,\n\t\t\t\tstyle,\n\t\t\t\tisSelected &&\n\t\t\t\t\thasInnerBlocks &&\n\t\t\t\t\tstyle?.backgroundColor &&\n\t\t\t\t\tstyles.hasBackgroundAppender,\n\t\t\t\tisLastInnerBlockSelected &&\n\t\t\t\t\tstyle?.backgroundColor &&\n\t\t\t\t\tstyles.isLastInnerBlockSelected,\n\t\t\t] }\n\t\t>\n\t\t\t{ resizeObserver }\n\t\t\t<InnerBlocks\n\t\t\t\trenderAppender={ isSelected && renderAppender }\n\t\t\t\tparentWidth={ width }\n\t\t\t\tblockWidth={ blockWidth }\n\t\t\t/>\n\t\t</View>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst {\n\t\t\tgetBlock,\n\t\t\tgetBlockIndex,\n\t\t\thasSelectedInnerBlock,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetBlockAttributes,\n\t\t} = select( blockEditorStore );\n\n\t\tconst block = getBlock( clientId );\n\t\tconst hasInnerBlocks = !! ( block && block.innerBlocks.length );\n\t\tconst isInnerBlockSelected =\n\t\t\thasInnerBlocks && hasSelectedInnerBlock( clientId, true );\n\t\tlet isLastInnerBlockSelected = false;\n\n\t\tif ( isInnerBlockSelected ) {\n\t\t\tconst { innerBlocks } = block;\n\t\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\t\t\tconst totalInnerBlocks = innerBlocks.length - 1;\n\t\t\tconst blockIndex = getBlockIndex( selectedBlockClientId );\n\t\t\tisLastInnerBlockSelected = totalInnerBlocks === blockIndex;\n\t\t}\n\n\t\tconst parentId = getBlockRootClientId( clientId );\n\t\tconst parentBlockAlignment = getBlockAttributes( parentId )?.align;\n\n\t\treturn {\n\t\t\thasInnerBlocks,\n\t\t\tisLastInnerBlockSelected,\n\t\t\tparentBlockAlignment,\n\t\t};\n\t} ),\n\twithPreferredColorScheme,\n] )( GroupEdit );\n"],"mappings":"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"}