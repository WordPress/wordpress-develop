{"version":3,"names":["_blocks","require","transforms","from","type","isMultiBlock","blocks","__experimentalConvert","alignments","widestAlignment","reduce","accumulator","block","align","attributes","indexOf","undefined","groupInnerBlocks","map","createBlock","name","innerBlocks","layout","_default","exports","default"],"sources":["@wordpress/block-library/src/group/transforms.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tisMultiBlock: true,\n\t\t\tblocks: [ '*' ],\n\t\t\t__experimentalConvert( blocks ) {\n\t\t\t\tconst alignments = [ 'wide', 'full' ];\n\n\t\t\t\t// Determine the widest setting of all the blocks to be grouped\n\t\t\t\tconst widestAlignment = blocks.reduce(\n\t\t\t\t\t( accumulator, block ) => {\n\t\t\t\t\t\tconst { align } = block.attributes;\n\t\t\t\t\t\treturn alignments.indexOf( align ) >\n\t\t\t\t\t\t\talignments.indexOf( accumulator )\n\t\t\t\t\t\t\t? align\n\t\t\t\t\t\t\t: accumulator;\n\t\t\t\t\t},\n\t\t\t\t\tundefined\n\t\t\t\t);\n\n\t\t\t\t// Clone the Blocks to be Grouped\n\t\t\t\t// Failing to create new block references causes the original blocks\n\t\t\t\t// to be replaced in the switchToBlockType call thereby meaning they\n\t\t\t\t// are removed both from their original location and within the\n\t\t\t\t// new group block.\n\t\t\t\tconst groupInnerBlocks = blocks.map( ( block ) => {\n\t\t\t\t\treturn createBlock(\n\t\t\t\t\t\tblock.name,\n\t\t\t\t\t\tblock.attributes,\n\t\t\t\t\t\tblock.innerBlocks\n\t\t\t\t\t);\n\t\t\t\t} );\n\n\t\t\t\treturn createBlock(\n\t\t\t\t\t'core/group',\n\t\t\t\t\t{\n\t\t\t\t\t\talign: widestAlignment,\n\t\t\t\t\t\tlayout: { type: 'constrained' },\n\t\t\t\t\t},\n\t\t\t\t\tgroupInnerBlocks\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport default transforms;\n"],"mappings":";;;;;;AAGA,IAAAA,OAAA,GAAAC,OAAA;AAHA;AACA;AACA;;AAGA,MAAMC,UAAU,GAAG;EAClBC,IAAI,EAAE,CACL;IACCC,IAAI,EAAE,OAAO;IACbC,YAAY,EAAE,IAAI;IAClBC,MAAM,EAAE,CAAE,GAAG,CAAE;IACfC,qBAAqBA,CAAED,MAAM,EAAG;MAC/B,MAAME,UAAU,GAAG,CAAE,MAAM,EAAE,MAAM,CAAE;;MAErC;MACA,MAAMC,eAAe,GAAGH,MAAM,CAACI,MAAM,CACpC,CAAEC,WAAW,EAAEC,KAAK,KAAM;QACzB,MAAM;UAAEC;QAAM,CAAC,GAAGD,KAAK,CAACE,UAAU;QAClC,OAAON,UAAU,CAACO,OAAO,CAAEF,KAAM,CAAC,GACjCL,UAAU,CAACO,OAAO,CAAEJ,WAAY,CAAC,GAC/BE,KAAK,GACLF,WAAW;MACf,CAAC,EACDK,SACD,CAAC;;MAED;MACA;MACA;MACA;MACA;MACA,MAAMC,gBAAgB,GAAGX,MAAM,CAACY,GAAG,CAAIN,KAAK,IAAM;QACjD,OAAO,IAAAO,mBAAW,EACjBP,KAAK,CAACQ,IAAI,EACVR,KAAK,CAACE,UAAU,EAChBF,KAAK,CAACS,WACP,CAAC;MACF,CAAE,CAAC;MAEH,OAAO,IAAAF,mBAAW,EACjB,YAAY,EACZ;QACCN,KAAK,EAAEJ,eAAe;QACtBa,MAAM,EAAE;UAAElB,IAAI,EAAE;QAAc;MAC/B,CAAC,EACDa,gBACD,CAAC;IACF;EACD,CAAC;AAEH,CAAC;AAAC,IAAAM,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEavB,UAAU"}