{"version":3,"names":["_coreData","require","_date","_blockEditor","_components","_i18n","Edit","attributes","format","isLink","context","commentId","setAttributes","blockProps","useBlockProps","date","useEntityProp","siteFormat","getDateSettings","formats","inspectorControls","_react","createElement","InspectorControls","PanelBody","title","__","__experimentalDateFormatPicker","defaultFormat","onChange","nextFormat","ToggleControl","__nextHasNoMarginBottom","label","checked","_x","commentDate","Date","dateTime","dateI18n","href","onClick","event","preventDefault","Fragment"],"sources":["@wordpress/block-library/src/comment-date/edit.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useEntityProp } from '@wordpress/core-data';\nimport { dateI18n, getSettings as getDateSettings } from '@wordpress/date';\nimport {\n\tInspectorControls,\n\tuseBlockProps,\n\t__experimentalDateFormatPicker as DateFormatPicker,\n} from '@wordpress/block-editor';\nimport { PanelBody, ToggleControl } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\n\n/**\n * Renders the `core/comment-date` block on the editor.\n *\n * @param {Object} props                   React props.\n * @param {Object} props.setAttributes     Callback for updating block attributes.\n * @param {Object} props.attributes        Block attributes.\n * @param {string} props.attributes.format Format of the date.\n * @param {string} props.attributes.isLink Whether the author name should be linked.\n * @param {Object} props.context           Inherited context.\n * @param {string} props.context.commentId The comment ID.\n *\n * @return {JSX.Element} React element.\n */\nexport default function Edit( {\n\tattributes: { format, isLink },\n\tcontext: { commentId },\n\tsetAttributes,\n} ) {\n\tconst blockProps = useBlockProps();\n\tlet [ date ] = useEntityProp( 'root', 'comment', 'date', commentId );\n\tconst [ siteFormat = getDateSettings().formats.date ] = useEntityProp(\n\t\t'root',\n\t\t'site',\n\t\t'date_format'\n\t);\n\n\tconst inspectorControls = (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t<DateFormatPicker\n\t\t\t\t\tformat={ format }\n\t\t\t\t\tdefaultFormat={ siteFormat }\n\t\t\t\t\tonChange={ ( nextFormat ) =>\n\t\t\t\t\t\tsetAttributes( { format: nextFormat } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Link to comment' ) }\n\t\t\t\t\tonChange={ () => setAttributes( { isLink: ! isLink } ) }\n\t\t\t\t\tchecked={ isLink }\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n\n\tif ( ! commentId || ! date ) {\n\t\tdate = _x( 'Comment Date', 'block title' );\n\t}\n\n\tlet commentDate =\n\t\tdate instanceof Date ? (\n\t\t\t<time dateTime={ dateI18n( 'c', date ) }>\n\t\t\t\t{ dateI18n( format || siteFormat, date ) }\n\t\t\t</time>\n\t\t) : (\n\t\t\t<time>{ date }</time>\n\t\t);\n\n\tif ( isLink ) {\n\t\tcommentDate = (\n\t\t\t<a\n\t\t\t\thref=\"#comment-date-pseudo-link\"\n\t\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\t>\n\t\t\t\t{ commentDate }\n\t\t\t</a>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ inspectorControls }\n\t\t\t<div { ...blockProps }>{ commentDate }</div>\n\t\t</>\n\t);\n}\n"],"mappings":";;;;;;;AAGA,IAAAA,SAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,YAAA,GAAAF,OAAA;AAKA,IAAAG,WAAA,GAAAH,OAAA;AACA,IAAAI,KAAA,GAAAJ,OAAA;AAXA;AACA;AACA;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASK,IAAIA,CAAE;EAC7BC,UAAU,EAAE;IAAEC,MAAM;IAAEC;EAAO,CAAC;EAC9BC,OAAO,EAAE;IAAEC;EAAU,CAAC;EACtBC;AACD,CAAC,EAAG;EACH,MAAMC,UAAU,GAAG,IAAAC,0BAAa,EAAC,CAAC;EAClC,IAAI,CAAEC,IAAI,CAAE,GAAG,IAAAC,uBAAa,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAEL,SAAU,CAAC;EACpE,MAAM,CAAEM,UAAU,GAAG,IAAAC,iBAAe,EAAC,CAAC,CAACC,OAAO,CAACJ,IAAI,CAAE,GAAG,IAAAC,uBAAa,EACpE,MAAM,EACN,MAAM,EACN,aACD,CAAC;EAED,MAAMI,iBAAiB,GACtB,IAAAC,MAAA,CAAAC,aAAA,EAACnB,YAAA,CAAAoB,iBAAiB,QACjB,IAAAF,MAAA,CAAAC,aAAA,EAAClB,WAAA,CAAAoB,SAAS;IAACC,KAAK,EAAG,IAAAC,QAAE,EAAE,UAAW;EAAG,GACpC,IAAAL,MAAA,CAAAC,aAAA,EAACnB,YAAA,CAAAwB,8BAAgB;IAChBnB,MAAM,EAAGA,MAAQ;IACjBoB,aAAa,EAAGX,UAAY;IAC5BY,QAAQ,EAAKC,UAAU,IACtBlB,aAAa,CAAE;MAAEJ,MAAM,EAAEsB;IAAW,CAAE;EACtC,CACD,CAAC,EACF,IAAAT,MAAA,CAAAC,aAAA,EAAClB,WAAA,CAAA2B,aAAa;IACbC,uBAAuB;IACvBC,KAAK,EAAG,IAAAP,QAAE,EAAE,iBAAkB,CAAG;IACjCG,QAAQ,EAAGA,CAAA,KAAMjB,aAAa,CAAE;MAAEH,MAAM,EAAE,CAAEA;IAAO,CAAE,CAAG;IACxDyB,OAAO,EAAGzB;EAAQ,CAClB,CACS,CACO,CACnB;EAED,IAAK,CAAEE,SAAS,IAAI,CAAEI,IAAI,EAAG;IAC5BA,IAAI,GAAG,IAAAoB,QAAE,EAAE,cAAc,EAAE,aAAc,CAAC;EAC3C;EAEA,IAAIC,WAAW,GACdrB,IAAI,YAAYsB,IAAI,GACnB,IAAAhB,MAAA,CAAAC,aAAA;IAAMgB,QAAQ,EAAG,IAAAC,cAAQ,EAAE,GAAG,EAAExB,IAAK;EAAG,GACrC,IAAAwB,cAAQ,EAAE/B,MAAM,IAAIS,UAAU,EAAEF,IAAK,CAClC,CAAC,GAEP,IAAAM,MAAA,CAAAC,aAAA,gBAAQP,IAAY,CACpB;EAEF,IAAKN,MAAM,EAAG;IACb2B,WAAW,GACV,IAAAf,MAAA,CAAAC,aAAA;MACCkB,IAAI,EAAC,2BAA2B;MAChCC,OAAO,EAAKC,KAAK,IAAMA,KAAK,CAACC,cAAc,CAAC;IAAG,GAE7CP,WACA,CACH;EACF;EAEA,OACC,IAAAf,MAAA,CAAAC,aAAA,EAAAD,MAAA,CAAAuB,QAAA,QACGxB,iBAAiB,EACnB,IAAAC,MAAA,CAAAC,aAAA;IAAA,GAAUT;EAAU,GAAKuB,WAAkB,CAC1C,CAAC;AAEL"}