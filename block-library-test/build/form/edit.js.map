{"version":3,"names":["_i18n","require","_blockEditor","_components","_data","_utils","TEMPLATE","formSubmissionNotificationSuccess","formSubmissionNotificationError","type","label","__","required","Edit","attributes","setAttributes","clientId","action","method","email","submissionMethod","blockProps","useBlockProps","hasInnerBlocks","useSelect","select","getBlock","blockEditorStore","block","innerBlocks","length","innerBlocksProps","useInnerBlocksProps","template","renderAppender","undefined","InnerBlocks","ButtonBlockAppender","_react","createElement","Fragment","InspectorControls","PanelBody","title","SelectControl","options","value","onChange","help","TextControl","__nextHasNoMarginBottom","autoComplete","group","newVal","className","encType","_default","exports","default"],"sources":["@wordpress/block-library/src/form/edit.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tInnerBlocks,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n\tInspectorControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { TextControl, SelectControl, PanelBody } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport {\n\tformSubmissionNotificationSuccess,\n\tformSubmissionNotificationError,\n} from './utils.js';\n\nconst TEMPLATE = [\n\tformSubmissionNotificationSuccess,\n\tformSubmissionNotificationError,\n\t[\n\t\t'core/form-input',\n\t\t{\n\t\t\ttype: 'text',\n\t\t\tlabel: __( 'Name' ),\n\t\t\trequired: true,\n\t\t},\n\t],\n\t[\n\t\t'core/form-input',\n\t\t{\n\t\t\ttype: 'email',\n\t\t\tlabel: __( 'Email' ),\n\t\t\trequired: true,\n\t\t},\n\t],\n\t[\n\t\t'core/form-input',\n\t\t{\n\t\t\ttype: 'textarea',\n\t\t\tlabel: __( 'Comment' ),\n\t\t\trequired: true,\n\t\t},\n\t],\n\t[ 'core/form-submit-button', {} ],\n];\n\nconst Edit = ( { attributes, setAttributes, clientId } ) => {\n\tconst { action, method, email, submissionMethod } = attributes;\n\tconst blockProps = useBlockProps();\n\n\tconst { hasInnerBlocks } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlock } = select( blockEditorStore );\n\t\t\tconst block = getBlock( clientId );\n\t\t\treturn {\n\t\t\t\thasInnerBlocks: !! ( block && block.innerBlocks.length ),\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\ttemplate: TEMPLATE,\n\t\trenderAppender: hasInnerBlocks\n\t\t\t? undefined\n\t\t\t: InnerBlocks.ButtonBlockAppender,\n\t} );\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t// __nextHasNoMarginBottom\n\t\t\t\t\t\t// size={ '__unstable-large' }\n\t\t\t\t\t\tlabel={ __( 'Submissions method' ) }\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t// TODO: Allow plugins to add their own submission methods.\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( 'Send email' ),\n\t\t\t\t\t\t\t\tvalue: 'email',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( '- Custom -' ),\n\t\t\t\t\t\t\t\tvalue: 'custom',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t\tvalue={ submissionMethod }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { submissionMethod: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\tsubmissionMethod === 'custom'\n\t\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t\t'Select the method to use for form submissions. Additional options for the \"custom\" mode can be found in the \"Advanced\" section.'\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t'Select the method to use for form submissions.'\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{ submissionMethod === 'email' && (\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tlabel={ __( 'Email for form submissions' ) }\n\t\t\t\t\t\t\tvalue={ email }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\tsetAttributes( { email: value } );\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\taction: `mailto:${ value }`,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\tsetAttributes( { method: 'post' } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'The email address where form submissions will be sent. Separate multiple email addresses with a comma.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t{ submissionMethod !== 'email' && (\n\t\t\t\t<InspectorControls group=\"advanced\">\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Method' ) }\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t{ label: 'Get', value: 'get' },\n\t\t\t\t\t\t\t{ label: 'Post', value: 'post' },\n\t\t\t\t\t\t] }\n\t\t\t\t\t\tvalue={ method }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { method: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'Select the method to use for form submissions.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tlabel={ __( 'Form action' ) }\n\t\t\t\t\t\tvalue={ action }\n\t\t\t\t\t\tonChange={ ( newVal ) => {\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\taction: newVal,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'The URL where the form should be submitted.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\t\t\t<form\n\t\t\t\t{ ...innerBlocksProps }\n\t\t\t\tclassName=\"wp-block-form\"\n\t\t\t\tencType={ submissionMethod === 'email' ? 'text/plain' : null }\n\t\t\t/>\n\t\t</>\n\t);\n};\nexport default Edit;\n"],"mappings":"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"}