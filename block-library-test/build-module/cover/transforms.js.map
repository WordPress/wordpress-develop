{"version":3,"names":["createBlock","privateApis","blockEditorPrivateApis","IMAGE_BACKGROUND_TYPE","VIDEO_BACKGROUND_TYPE","unlock","cleanEmptyObject","transforms","from","type","blocks","transform","caption","url","alt","align","id","anchor","style","dimRatio","color","duotone","content","fontSize","src","backgroundType","attributes","innerBlocks","backgroundColor","gradient","length","name","background","undefined","parentAttributes","overlayColor","customOverlayColor","customGradient","attributesWithoutBackgroundColors","to","isMatch","title","useFeaturedImage","transformedColorAttributes","groupAttributes"],"sources":["@wordpress/block-library/src/cover/transforms.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { IMAGE_BACKGROUND_TYPE, VIDEO_BACKGROUND_TYPE } from './shared';\nimport { unlock } from '../lock-unlock';\n\nconst { cleanEmptyObject } = unlock( blockEditorPrivateApis );\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/image' ],\n\t\t\ttransform: ( { caption, url, alt, align, id, anchor, style } ) =>\n\t\t\t\tcreateBlock(\n\t\t\t\t\t'core/cover',\n\t\t\t\t\t{\n\t\t\t\t\t\tdimRatio: 50,\n\t\t\t\t\t\turl,\n\t\t\t\t\t\talt,\n\t\t\t\t\t\talign,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tanchor,\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tcolor: {\n\t\t\t\t\t\t\t\tduotone: style?.color?.duotone,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\t\tcontent: caption,\n\t\t\t\t\t\t\tfontSize: 'large',\n\t\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\t} ),\n\t\t\t\t\t]\n\t\t\t\t),\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/video' ],\n\t\t\ttransform: ( { caption, src, align, id, anchor } ) =>\n\t\t\t\tcreateBlock(\n\t\t\t\t\t'core/cover',\n\t\t\t\t\t{\n\t\t\t\t\t\tdimRatio: 50,\n\t\t\t\t\t\turl: src,\n\t\t\t\t\t\talign,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tbackgroundType: VIDEO_BACKGROUND_TYPE,\n\t\t\t\t\t\tanchor,\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\t\tcontent: caption,\n\t\t\t\t\t\t\tfontSize: 'large',\n\t\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\t} ),\n\t\t\t\t\t]\n\t\t\t\t),\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/group' ],\n\t\t\ttransform: ( attributes, innerBlocks ) => {\n\t\t\t\tconst { align, anchor, backgroundColor, gradient, style } =\n\t\t\t\t\tattributes;\n\n\t\t\t\t// If the Group block being transformed has a Cover block as its\n\t\t\t\t// only child return that Cover block.\n\t\t\t\tif (\n\t\t\t\t\tinnerBlocks?.length === 1 &&\n\t\t\t\t\tinnerBlocks[ 0 ]?.name === 'core/cover'\n\t\t\t\t) {\n\t\t\t\t\treturn createBlock(\n\t\t\t\t\t\t'core/cover',\n\t\t\t\t\t\tinnerBlocks[ 0 ].attributes,\n\t\t\t\t\t\tinnerBlocks[ 0 ].innerBlocks\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// If no background or gradient color is provided, default to 50% opacity.\n\t\t\t\t// This matches the styling of a Cover block with a background image,\n\t\t\t\t// in the state where a background image has been removed.\n\t\t\t\tconst dimRatio =\n\t\t\t\t\tbackgroundColor ||\n\t\t\t\t\tgradient ||\n\t\t\t\t\tstyle?.color?.background ||\n\t\t\t\t\tstyle?.color?.gradient\n\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t: 50;\n\n\t\t\t\t// Move the background or gradient color to the parent Cover block.\n\t\t\t\tconst parentAttributes = {\n\t\t\t\t\talign,\n\t\t\t\t\tanchor,\n\t\t\t\t\tdimRatio,\n\t\t\t\t\toverlayColor: backgroundColor,\n\t\t\t\t\tcustomOverlayColor: style?.color?.background,\n\t\t\t\t\tgradient,\n\t\t\t\t\tcustomGradient: style?.color?.gradient,\n\t\t\t\t};\n\n\t\t\t\tconst attributesWithoutBackgroundColors = {\n\t\t\t\t\t...attributes,\n\t\t\t\t\tbackgroundColor: undefined,\n\t\t\t\t\tgradient: undefined,\n\t\t\t\t\tstyle: cleanEmptyObject( {\n\t\t\t\t\t\t...attributes?.style,\n\t\t\t\t\t\tcolor: style?.color\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t...style?.color,\n\t\t\t\t\t\t\t\t\tbackground: undefined,\n\t\t\t\t\t\t\t\t\tgradient: undefined,\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t} ),\n\t\t\t\t};\n\n\t\t\t\t// Preserve the block by nesting it within the Cover block,\n\t\t\t\t// instead of converting the Group block directly to the Cover block.\n\t\t\t\treturn createBlock( 'core/cover', parentAttributes, [\n\t\t\t\t\tcreateBlock(\n\t\t\t\t\t\t'core/group',\n\t\t\t\t\t\tattributesWithoutBackgroundColors,\n\t\t\t\t\t\tinnerBlocks\n\t\t\t\t\t),\n\t\t\t\t] );\n\t\t\t},\n\t\t},\n\t],\n\tto: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/image' ],\n\t\t\tisMatch: ( {\n\t\t\t\tbackgroundType,\n\t\t\t\turl,\n\t\t\t\toverlayColor,\n\t\t\t\tcustomOverlayColor,\n\t\t\t\tgradient,\n\t\t\t\tcustomGradient,\n\t\t\t} ) => {\n\t\t\t\tif ( url ) {\n\t\t\t\t\t// If a url exists the transform could happen if that URL represents an image background.\n\t\t\t\t\treturn backgroundType === IMAGE_BACKGROUND_TYPE;\n\t\t\t\t}\n\t\t\t\t// If a url is not set the transform could happen if the cover has no background color or gradient;\n\t\t\t\treturn (\n\t\t\t\t\t! overlayColor &&\n\t\t\t\t\t! customOverlayColor &&\n\t\t\t\t\t! gradient &&\n\t\t\t\t\t! customGradient\n\t\t\t\t);\n\t\t\t},\n\t\t\ttransform: ( { title, url, alt, align, id, anchor, style } ) =>\n\t\t\t\tcreateBlock( 'core/image', {\n\t\t\t\t\tcaption: title,\n\t\t\t\t\turl,\n\t\t\t\t\talt,\n\t\t\t\t\talign,\n\t\t\t\t\tid,\n\t\t\t\t\tanchor,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tcolor: {\n\t\t\t\t\t\t\tduotone: style?.color?.duotone,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t} ),\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/video' ],\n\t\t\tisMatch: ( {\n\t\t\t\tbackgroundType,\n\t\t\t\turl,\n\t\t\t\toverlayColor,\n\t\t\t\tcustomOverlayColor,\n\t\t\t\tgradient,\n\t\t\t\tcustomGradient,\n\t\t\t} ) => {\n\t\t\t\tif ( url ) {\n\t\t\t\t\t// If a url exists the transform could happen if that URL represents a video background.\n\t\t\t\t\treturn backgroundType === VIDEO_BACKGROUND_TYPE;\n\t\t\t\t}\n\t\t\t\t// If a url is not set the transform could happen if the cover has no background color or gradient;\n\t\t\t\treturn (\n\t\t\t\t\t! overlayColor &&\n\t\t\t\t\t! customOverlayColor &&\n\t\t\t\t\t! gradient &&\n\t\t\t\t\t! customGradient\n\t\t\t\t);\n\t\t\t},\n\t\t\ttransform: ( { title, url, align, id, anchor } ) =>\n\t\t\t\tcreateBlock( 'core/video', {\n\t\t\t\t\tcaption: title,\n\t\t\t\t\tsrc: url,\n\t\t\t\t\tid,\n\t\t\t\t\talign,\n\t\t\t\t\tanchor,\n\t\t\t\t} ),\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/group' ],\n\t\t\tisMatch: ( { url, useFeaturedImage } ) => {\n\t\t\t\t// If the Cover block uses background media, skip this transform,\n\t\t\t\t// and instead use the Group block's default transform.\n\t\t\t\tif ( url || useFeaturedImage ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\ttransform: ( attributes, innerBlocks ) => {\n\t\t\t\t// Convert Cover overlay colors to comparable Group background colors.\n\t\t\t\tconst transformedColorAttributes = {\n\t\t\t\t\tbackgroundColor: attributes?.overlayColor,\n\t\t\t\t\tgradient: attributes?.gradient,\n\t\t\t\t\tstyle: cleanEmptyObject( {\n\t\t\t\t\t\t...attributes?.style,\n\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\tattributes?.customOverlayColor ||\n\t\t\t\t\t\t\tattributes?.customGradient ||\n\t\t\t\t\t\t\tattributes?.style?.color\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t\tattributes?.customOverlayColor,\n\t\t\t\t\t\t\t\t\t\tgradient: attributes?.customGradient,\n\t\t\t\t\t\t\t\t\t\t...attributes?.style?.color,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t} ),\n\t\t\t\t};\n\n\t\t\t\t// If the Cover block contains only a single Group block as a direct child,\n\t\t\t\t// then attempt to merge the Cover's background colors with the child Group block,\n\t\t\t\t// and remove the Cover block as the wrapper.\n\t\t\t\tif (\n\t\t\t\t\tinnerBlocks?.length === 1 &&\n\t\t\t\t\tinnerBlocks[ 0 ]?.name === 'core/group'\n\t\t\t\t) {\n\t\t\t\t\tconst groupAttributes = cleanEmptyObject(\n\t\t\t\t\t\tinnerBlocks[ 0 ].attributes || {}\n\t\t\t\t\t);\n\n\t\t\t\t\t// If the Group block contains any kind of background color or gradient,\n\t\t\t\t\t// skip merging Cover background colors, and preserve the Group block's colors.\n\t\t\t\t\tif (\n\t\t\t\t\t\tgroupAttributes?.backgroundColor ||\n\t\t\t\t\t\tgroupAttributes?.gradient ||\n\t\t\t\t\t\tgroupAttributes?.style?.color?.background ||\n\t\t\t\t\t\tgroupAttributes?.style?.color?.gradient\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn createBlock(\n\t\t\t\t\t\t\t'core/group',\n\t\t\t\t\t\t\tgroupAttributes,\n\t\t\t\t\t\t\tinnerBlocks[ 0 ]?.innerBlocks\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn createBlock(\n\t\t\t\t\t\t'core/group',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t...transformedColorAttributes,\n\t\t\t\t\t\t\t...groupAttributes,\n\t\t\t\t\t\t\tstyle: cleanEmptyObject( {\n\t\t\t\t\t\t\t\t...groupAttributes?.style,\n\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\ttransformedColorAttributes?.style?.color ||\n\t\t\t\t\t\t\t\t\tgroupAttributes?.style?.color\n\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t...transformedColorAttributes\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.style?.color,\n\t\t\t\t\t\t\t\t\t\t\t\t...groupAttributes?.style\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.color,\n\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t} ),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinnerBlocks[ 0 ]?.innerBlocks\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// In all other cases, transform the Cover block directly to a Group block.\n\t\t\t\treturn createBlock(\n\t\t\t\t\t'core/group',\n\t\t\t\t\t{ ...attributes, ...transformedColorAttributes },\n\t\t\t\t\tinnerBlocks\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport default transforms;\n"],"mappings":"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"}