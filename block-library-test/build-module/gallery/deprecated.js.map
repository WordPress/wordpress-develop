{"version":3,"names":["classnames","RichText","useBlockProps","useInnerBlocksProps","createBlock","LINK_DESTINATION_ATTACHMENT","LINK_DESTINATION_MEDIA","LINK_DESTINATION_NONE","isGalleryV2Enabled","DEPRECATED_LINK_DESTINATION_MEDIA","DEPRECATED_LINK_DESTINATION_ATTACHMENT","defaultColumnsNumberV1","attributes","Math","min","images","length","getHrefAndDestination","image","destination","href","source_url","url","linkDestination","link","undefined","runV2Migration","linkTo","imageBlocks","map","getImageBlock","sizeSlug","ids","restAttributes","allowResize","id","parseInt","alt","caption","v7","type","default","source","selector","query","attribute","fullUrl","items","shortCodeTransforms","columns","minimum","maximum","imageCrop","fixedHeight","linkTarget","save","className","blockProps","innerBlocksProps","createElement","children","isEmpty","Content","tagName","value","v6","supports","anchor","align","img","src","key","migrate","v5","isEligible","v4","some","_attributes$ids","parsedId","Number","isInteger","v3","v2","index","_attributes$images","v1","alignnone"],"sources":["@wordpress/block-library/src/gallery/deprecated.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n} from '@wordpress/block-editor';\n\nimport { createBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport {\n\tLINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_MEDIA,\n\tLINK_DESTINATION_NONE,\n} from './constants';\nimport { isGalleryV2Enabled } from './shared';\n\nconst DEPRECATED_LINK_DESTINATION_MEDIA = 'file';\nconst DEPRECATED_LINK_DESTINATION_ATTACHMENT = 'post';\n\n/**\n * Original function to determine default number of columns from a block's\n * attributes.\n *\n * Used in deprecations: v1-6, for versions of the gallery block that didn't use inner blocks.\n *\n * @param {Object} attributes Block attributes.\n * @return {number}           Default number of columns for the gallery.\n */\nexport function defaultColumnsNumberV1( attributes ) {\n\treturn Math.min( 3, attributes?.images?.length );\n}\n\n/**\n * Original function to determine new href and linkDestination values for an image block from the\n * supplied Gallery link destination.\n *\n * Used in deprecations: v1-6.\n *\n * @param {Object} image       Gallery image.\n * @param {string} destination Gallery's selected link destination.\n * @return {Object}            New attributes to assign to image block.\n */\nexport function getHrefAndDestination( image, destination ) {\n\t// Need to determine the URL that the selected destination maps to.\n\t// Gutenberg and WordPress use different constants so the new link\n\t// destination also needs to be tweaked.\n\tswitch ( destination ) {\n\t\tcase DEPRECATED_LINK_DESTINATION_MEDIA:\n\t\t\treturn {\n\t\t\t\thref: image?.source_url || image?.url, // eslint-disable-line camelcase\n\t\t\t\tlinkDestination: LINK_DESTINATION_MEDIA,\n\t\t\t};\n\t\tcase DEPRECATED_LINK_DESTINATION_ATTACHMENT:\n\t\t\treturn {\n\t\t\t\thref: image?.link,\n\t\t\t\tlinkDestination: LINK_DESTINATION_ATTACHMENT,\n\t\t\t};\n\t\tcase LINK_DESTINATION_MEDIA:\n\t\t\treturn {\n\t\t\t\thref: image?.source_url || image?.url, // eslint-disable-line camelcase\n\t\t\t\tlinkDestination: LINK_DESTINATION_MEDIA,\n\t\t\t};\n\t\tcase LINK_DESTINATION_ATTACHMENT:\n\t\t\treturn {\n\t\t\t\thref: image?.link,\n\t\t\t\tlinkDestination: LINK_DESTINATION_ATTACHMENT,\n\t\t\t};\n\t\tcase LINK_DESTINATION_NONE:\n\t\t\treturn {\n\t\t\t\thref: undefined,\n\t\t\t\tlinkDestination: LINK_DESTINATION_NONE,\n\t\t\t};\n\t}\n\n\treturn {};\n}\n\nfunction runV2Migration( attributes ) {\n\tlet linkTo = attributes.linkTo ? attributes.linkTo : 'none';\n\n\tif ( linkTo === 'post' ) {\n\t\tlinkTo = 'attachment';\n\t} else if ( linkTo === 'file' ) {\n\t\tlinkTo = 'media';\n\t}\n\n\tconst imageBlocks = attributes.images.map( ( image ) => {\n\t\treturn getImageBlock( image, attributes.sizeSlug, linkTo );\n\t} );\n\n\tconst { images, ids, ...restAttributes } = attributes;\n\n\treturn [\n\t\t{\n\t\t\t...restAttributes,\n\t\t\tlinkTo,\n\t\t\tallowResize: false,\n\t\t},\n\t\timageBlocks,\n\t];\n}\n/**\n * Gets an Image block from gallery image data\n *\n * Used to migrate Galleries to nested Image InnerBlocks.\n *\n * @param {Object} image    Image properties.\n * @param {string} sizeSlug Gallery sizeSlug attribute.\n * @param {string} linkTo   Gallery linkTo attribute.\n * @return {Object}         Image block.\n */\nexport function getImageBlock( image, sizeSlug, linkTo ) {\n\treturn createBlock( 'core/image', {\n\t\t...( image.id && { id: parseInt( image.id ) } ),\n\t\turl: image.url,\n\t\talt: image.alt,\n\t\tcaption: image.caption,\n\t\tsizeSlug,\n\t\t...getHrefAndDestination( image, linkTo ),\n\t} );\n}\n\n// In #41140 support was added to global styles for caption elements which added a `wp-element-caption` classname\n// to the gallery figcaption element.\nconst v7 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: '.blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\tfullUrl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-full-url',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: '.blocks-gallery-item__caption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tids: {\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t\tdefault: [],\n\t\t},\n\t\tshortCodeTransforms: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\titems: {\n\t\t\t\ttype: 'object',\n\t\t\t},\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t\tminimum: 1,\n\t\t\tmaximum: 8,\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.blocks-gallery-caption',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tfixedHeight: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTarget: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tsizeSlug: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'large',\n\t\t},\n\t\tallowResize: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tsave( { attributes } ) {\n\t\tconst { caption, columns, imageCrop } = attributes;\n\n\t\tconst className = classnames( 'has-nested-images', {\n\t\t\t[ `columns-${ columns }` ]: columns !== undefined,\n\t\t\t[ `columns-default` ]: columns === undefined,\n\t\t\t'is-cropped': imageCrop,\n\t\t} );\n\t\tconst blockProps = useBlockProps.save( { className } );\n\t\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\n\n\t\treturn (\n\t\t\t<figure { ...innerBlocksProps }>\n\t\t\t\t{ innerBlocksProps.children }\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName=\"blocks-gallery-caption\"\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n};\n\nconst v6 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: '.blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\tfullUrl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-full-url',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: '.blocks-gallery-item__caption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tids: {\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t\tdefault: [],\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t\tminimum: 1,\n\t\t\tmaximum: 8,\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.blocks-gallery-caption',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tfixedHeight: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tsizeSlug: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'large',\n\t\t},\n\t},\n\tsupports: {\n\t\tanchor: true,\n\t\talign: true,\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\timageCrop,\n\t\t\tcaption,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\t\tconst className = `columns-${ columns } ${\n\t\t\timageCrop ? 'is-cropped' : ''\n\t\t}`;\n\n\t\treturn (\n\t\t\t<figure { ...useBlockProps.save( { className } ) }>\n\t\t\t\t<ul className=\"blocks-gallery-grid\">\n\t\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\t\tlet href;\n\n\t\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\t\tcase DEPRECATED_LINK_DESTINATION_MEDIA:\n\t\t\t\t\t\t\t\thref = image.fullUrl || image.url;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase DEPRECATED_LINK_DESTINATION_ATTACHMENT:\n\t\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst img = (\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\n\t\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t{ href ? (\n\t\t\t\t\t\t\t\t\t\t<a href={ href }>{ img }</a>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\timg\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ ! RichText.isEmpty( image.caption ) && (\n\t\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item__caption\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</ul>\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName=\"blocks-gallery-caption\"\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\n\t\treturn attributes;\n\t},\n};\nconst v5 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: '.blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\tfullUrl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-full-url',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: '.blocks-gallery-item__caption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tids: {\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t\tdefault: [],\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t\tminimum: 1,\n\t\t\tmaximum: 8,\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.blocks-gallery-caption',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t\tsizeSlug: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'large',\n\t\t},\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\tisEligible( { linkTo } ) {\n\t\treturn ! linkTo || linkTo === 'attachment' || linkTo === 'media';\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\n\t\tlet linkTo = attributes.linkTo;\n\n\t\tif ( ! attributes.linkTo ) {\n\t\t\tlinkTo = 'none';\n\t\t} else if ( attributes.linkTo === 'attachment' ) {\n\t\t\tlinkTo = 'post';\n\t\t} else if ( attributes.linkTo === 'media' ) {\n\t\t\tlinkTo = 'file';\n\t\t}\n\t\treturn {\n\t\t\t...attributes,\n\t\t\tlinkTo,\n\t\t};\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\timageCrop,\n\t\t\tcaption,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\n\t\treturn (\n\t\t\t<figure\n\t\t\t\tclassName={ `columns-${ columns } ${\n\t\t\t\t\timageCrop ? 'is-cropped' : ''\n\t\t\t\t}` }\n\t\t\t>\n\t\t\t\t<ul className=\"blocks-gallery-grid\">\n\t\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\t\tlet href;\n\n\t\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\t\thref = image.fullUrl || image.url;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst img = (\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\n\t\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t{ href ? (\n\t\t\t\t\t\t\t\t\t\t<a href={ href }>{ img }</a>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\timg\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ ! RichText.isEmpty( image.caption ) && (\n\t\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item__caption\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</ul>\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName=\"blocks-gallery-caption\"\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n};\n\nconst v4 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: '.blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\tfullUrl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-full-url',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: '.blocks-gallery-item__caption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tids: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.blocks-gallery-caption',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\tisEligible( { ids } ) {\n\t\treturn ids && ids.some( ( id ) => typeof id === 'string' );\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\n\t\treturn {\n\t\t\t...attributes,\n\t\t\tids: ( attributes.ids ?? [] ).map( ( id ) => {\n\t\t\t\tconst parsedId = parseInt( id, 10 );\n\t\t\t\treturn Number.isInteger( parsedId ) ? parsedId : null;\n\t\t\t} ),\n\t\t};\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\timageCrop,\n\t\t\tcaption,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\n\t\treturn (\n\t\t\t<figure\n\t\t\t\tclassName={ `columns-${ columns } ${\n\t\t\t\t\timageCrop ? 'is-cropped' : ''\n\t\t\t\t}` }\n\t\t\t>\n\t\t\t\t<ul className=\"blocks-gallery-grid\">\n\t\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\t\tlet href;\n\n\t\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\t\thref = image.fullUrl || image.url;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst img = (\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\n\t\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t{ href ? (\n\t\t\t\t\t\t\t\t\t\t<a href={ href }>{ img }</a>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\timg\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ ! RichText.isEmpty( image.caption ) && (\n\t\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item__caption\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</ul>\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName=\"blocks-gallery-caption\"\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n};\nconst v3 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'ul.wp-block-gallery .blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\tfullUrl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-full-url',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: 'figcaption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tids: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\timageCrop,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\t\treturn (\n\t\t\t<ul\n\t\t\t\tclassName={ `columns-${ columns } ${\n\t\t\t\t\timageCrop ? 'is-cropped' : ''\n\t\t\t\t}` }\n\t\t\t>\n\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\tlet href;\n\n\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\thref = image.fullUrl || image.url;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst img = (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\n\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t\t\t{ image.caption && image.caption.length > 0 && (\n\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t);\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\t\treturn attributes;\n\t},\n};\nconst v2 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'ul.wp-block-gallery .blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: 'figcaption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t},\n\tisEligible( { images, ids } ) {\n\t\treturn (\n\t\t\timages &&\n\t\t\timages.length > 0 &&\n\t\t\t( ( ! ids && images ) ||\n\t\t\t\t( ids && images && ids.length !== images.length ) ||\n\t\t\t\timages.some( ( id, index ) => {\n\t\t\t\t\tif ( ! id && ids[ index ] !== null ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn parseInt( id, 10 ) !== ids[ index ];\n\t\t\t\t} ) )\n\t\t);\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\t\treturn {\n\t\t\t...attributes,\n\t\t\tids: ( attributes.images ?? [] ).map( ( { id } ) => {\n\t\t\t\tif ( ! id ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn parseInt( id, 10 );\n\t\t\t} ),\n\t\t};\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\timageCrop,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\t\treturn (\n\t\t\t<ul\n\t\t\t\tclassName={ `columns-${ columns } ${\n\t\t\t\t\timageCrop ? 'is-cropped' : ''\n\t\t\t\t}` }\n\t\t\t>\n\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\tlet href;\n\n\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\thref = image.url;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst img = (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t\t\t{ image.caption && image.caption.length > 0 && (\n\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t);\n\t},\n};\n\nconst v1 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'div.wp-block-gallery figure.blocks-gallery-image img',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t\talign: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\talign,\n\t\t\timageCrop,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\t\tconst className = classnames( `columns-${ columns }`, {\n\t\t\talignnone: align === 'none',\n\t\t\t'is-cropped': imageCrop,\n\t\t} );\n\t\treturn (\n\t\t\t<div className={ className }>\n\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\tlet href;\n\n\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\thref = image.url;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst img = (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<figure\n\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-image\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</div>\n\t\t);\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\n\t\treturn attributes;\n\t},\n};\n\nexport default [ v7, v6, v5, v4, v3, v2, v1 ];\n"],"mappings":"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"}