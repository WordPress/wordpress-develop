{"version":3,"names":["useEntityProp","dateI18n","getSettings","getDateSettings","InspectorControls","useBlockProps","__experimentalDateFormatPicker","DateFormatPicker","PanelBody","ToggleControl","__","_x","Edit","attributes","format","isLink","context","commentId","setAttributes","blockProps","date","siteFormat","formats","inspectorControls","createElement","title","defaultFormat","onChange","nextFormat","__nextHasNoMarginBottom","label","checked","commentDate","Date","dateTime","href","onClick","event","preventDefault","Fragment"],"sources":["@wordpress/block-library/src/comment-date/edit.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useEntityProp } from '@wordpress/core-data';\nimport { dateI18n, getSettings as getDateSettings } from '@wordpress/date';\nimport {\n\tInspectorControls,\n\tuseBlockProps,\n\t__experimentalDateFormatPicker as DateFormatPicker,\n} from '@wordpress/block-editor';\nimport { PanelBody, ToggleControl } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\n\n/**\n * Renders the `core/comment-date` block on the editor.\n *\n * @param {Object} props                   React props.\n * @param {Object} props.setAttributes     Callback for updating block attributes.\n * @param {Object} props.attributes        Block attributes.\n * @param {string} props.attributes.format Format of the date.\n * @param {string} props.attributes.isLink Whether the author name should be linked.\n * @param {Object} props.context           Inherited context.\n * @param {string} props.context.commentId The comment ID.\n *\n * @return {JSX.Element} React element.\n */\nexport default function Edit( {\n\tattributes: { format, isLink },\n\tcontext: { commentId },\n\tsetAttributes,\n} ) {\n\tconst blockProps = useBlockProps();\n\tlet [ date ] = useEntityProp( 'root', 'comment', 'date', commentId );\n\tconst [ siteFormat = getDateSettings().formats.date ] = useEntityProp(\n\t\t'root',\n\t\t'site',\n\t\t'date_format'\n\t);\n\n\tconst inspectorControls = (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t<DateFormatPicker\n\t\t\t\t\tformat={ format }\n\t\t\t\t\tdefaultFormat={ siteFormat }\n\t\t\t\t\tonChange={ ( nextFormat ) =>\n\t\t\t\t\t\tsetAttributes( { format: nextFormat } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Link to comment' ) }\n\t\t\t\t\tonChange={ () => setAttributes( { isLink: ! isLink } ) }\n\t\t\t\t\tchecked={ isLink }\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n\n\tif ( ! commentId || ! date ) {\n\t\tdate = _x( 'Comment Date', 'block title' );\n\t}\n\n\tlet commentDate =\n\t\tdate instanceof Date ? (\n\t\t\t<time dateTime={ dateI18n( 'c', date ) }>\n\t\t\t\t{ dateI18n( format || siteFormat, date ) }\n\t\t\t</time>\n\t\t) : (\n\t\t\t<time>{ date }</time>\n\t\t);\n\n\tif ( isLink ) {\n\t\tcommentDate = (\n\t\t\t<a\n\t\t\t\thref=\"#comment-date-pseudo-link\"\n\t\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\t>\n\t\t\t\t{ commentDate }\n\t\t\t</a>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ inspectorControls }\n\t\t\t<div { ...blockProps }>{ commentDate }</div>\n\t\t</>\n\t);\n}\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,aAAa,QAAQ,sBAAsB;AACpD,SAASC,QAAQ,EAAEC,WAAW,IAAIC,eAAe,QAAQ,iBAAiB;AAC1E,SACCC,iBAAiB,EACjBC,aAAa,EACbC,8BAA8B,IAAIC,gBAAgB,QAC5C,yBAAyB;AAChC,SAASC,SAAS,EAAEC,aAAa,QAAQ,uBAAuB;AAChE,SAASC,EAAE,EAAEC,EAAE,QAAQ,iBAAiB;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,IAAIA,CAAE;EAC7BC,UAAU,EAAE;IAAEC,MAAM;IAAEC;EAAO,CAAC;EAC9BC,OAAO,EAAE;IAAEC;EAAU,CAAC;EACtBC;AACD,CAAC,EAAG;EACH,MAAMC,UAAU,GAAGd,aAAa,CAAC,CAAC;EAClC,IAAI,CAAEe,IAAI,CAAE,GAAGpB,aAAa,CAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAEiB,SAAU,CAAC;EACpE,MAAM,CAAEI,UAAU,GAAGlB,eAAe,CAAC,CAAC,CAACmB,OAAO,CAACF,IAAI,CAAE,GAAGpB,aAAa,CACpE,MAAM,EACN,MAAM,EACN,aACD,CAAC;EAED,MAAMuB,iBAAiB,GACtBC,aAAA,CAACpB,iBAAiB,QACjBoB,aAAA,CAAChB,SAAS;IAACiB,KAAK,EAAGf,EAAE,CAAE,UAAW;EAAG,GACpCc,aAAA,CAACjB,gBAAgB;IAChBO,MAAM,EAAGA,MAAQ;IACjBY,aAAa,EAAGL,UAAY;IAC5BM,QAAQ,EAAKC,UAAU,IACtBV,aAAa,CAAE;MAAEJ,MAAM,EAAEc;IAAW,CAAE;EACtC,CACD,CAAC,EACFJ,aAAA,CAACf,aAAa;IACboB,uBAAuB;IACvBC,KAAK,EAAGpB,EAAE,CAAE,iBAAkB,CAAG;IACjCiB,QAAQ,EAAGA,CAAA,KAAMT,aAAa,CAAE;MAAEH,MAAM,EAAE,CAAEA;IAAO,CAAE,CAAG;IACxDgB,OAAO,EAAGhB;EAAQ,CAClB,CACS,CACO,CACnB;EAED,IAAK,CAAEE,SAAS,IAAI,CAAEG,IAAI,EAAG;IAC5BA,IAAI,GAAGT,EAAE,CAAE,cAAc,EAAE,aAAc,CAAC;EAC3C;EAEA,IAAIqB,WAAW,GACdZ,IAAI,YAAYa,IAAI,GACnBT,aAAA;IAAMU,QAAQ,EAAGjC,QAAQ,CAAE,GAAG,EAAEmB,IAAK;EAAG,GACrCnB,QAAQ,CAAEa,MAAM,IAAIO,UAAU,EAAED,IAAK,CAClC,CAAC,GAEPI,aAAA,eAAQJ,IAAY,CACpB;EAEF,IAAKL,MAAM,EAAG;IACbiB,WAAW,GACVR,aAAA;MACCW,IAAI,EAAC,2BAA2B;MAChCC,OAAO,EAAKC,KAAK,IAAMA,KAAK,CAACC,cAAc,CAAC;IAAG,GAE7CN,WACA,CACH;EACF;EAEA,OACCR,aAAA,CAAAe,QAAA,QACGhB,iBAAiB,EACnBC,aAAA;IAAA,GAAUL;EAAU,GAAKa,WAAkB,CAC1C,CAAC;AAEL"}