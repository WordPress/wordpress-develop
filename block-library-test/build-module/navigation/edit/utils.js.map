{"version":3,"names":["classnames","getComputedStyle","node","ownerDocument","defaultView","detectColors","colorsDetectionElement","setColor","setBackground","color","backgroundColorNode","backgroundColor","parentNode","nodeType","ELEMENT_NODE","getColors","context","isSubMenu","textColor","customTextColor","customBackgroundColor","overlayTextColor","customOverlayTextColor","overlayBackgroundColor","customOverlayBackgroundColor","style","colors","text","background","getNavigationChildBlockProps","innerBlocksColors","className"],"sources":["@wordpress/block-library/src/navigation/edit/utils.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\nfunction getComputedStyle( node ) {\n\treturn node.ownerDocument.defaultView.getComputedStyle( node );\n}\n\nexport function detectColors(\n\tcolorsDetectionElement,\n\tsetColor,\n\tsetBackground\n) {\n\tif ( ! colorsDetectionElement ) {\n\t\treturn;\n\t}\n\tsetColor( getComputedStyle( colorsDetectionElement ).color );\n\n\tlet backgroundColorNode = colorsDetectionElement;\n\tlet backgroundColor =\n\t\tgetComputedStyle( backgroundColorNode ).backgroundColor;\n\twhile (\n\t\tbackgroundColor === 'rgba(0, 0, 0, 0)' &&\n\t\tbackgroundColorNode.parentNode &&\n\t\tbackgroundColorNode.parentNode.nodeType ===\n\t\t\tbackgroundColorNode.parentNode.ELEMENT_NODE\n\t) {\n\t\tbackgroundColorNode = backgroundColorNode.parentNode;\n\t\tbackgroundColor =\n\t\t\tgetComputedStyle( backgroundColorNode ).backgroundColor;\n\t}\n\n\tsetBackground( backgroundColor );\n}\n\n/**\n * Determine the colors for a menu.\n *\n * Order of priority is:\n * 1: Overlay custom colors (if submenu)\n * 2: Overlay theme colors (if submenu)\n * 3: Custom colors\n * 4: Theme colors\n * 5: Global styles\n *\n * @param {Object}  context\n * @param {boolean} isSubMenu\n */\nexport function getColors( context, isSubMenu ) {\n\tconst {\n\t\ttextColor,\n\t\tcustomTextColor,\n\t\tbackgroundColor,\n\t\tcustomBackgroundColor,\n\t\toverlayTextColor,\n\t\tcustomOverlayTextColor,\n\t\toverlayBackgroundColor,\n\t\tcustomOverlayBackgroundColor,\n\t\tstyle,\n\t} = context;\n\n\tconst colors = {};\n\n\tif ( isSubMenu && !! customOverlayTextColor ) {\n\t\tcolors.customTextColor = customOverlayTextColor;\n\t} else if ( isSubMenu && !! overlayTextColor ) {\n\t\tcolors.textColor = overlayTextColor;\n\t} else if ( !! customTextColor ) {\n\t\tcolors.customTextColor = customTextColor;\n\t} else if ( !! textColor ) {\n\t\tcolors.textColor = textColor;\n\t} else if ( !! style?.color?.text ) {\n\t\tcolors.customTextColor = style.color.text;\n\t}\n\n\tif ( isSubMenu && !! customOverlayBackgroundColor ) {\n\t\tcolors.customBackgroundColor = customOverlayBackgroundColor;\n\t} else if ( isSubMenu && !! overlayBackgroundColor ) {\n\t\tcolors.backgroundColor = overlayBackgroundColor;\n\t} else if ( !! customBackgroundColor ) {\n\t\tcolors.customBackgroundColor = customBackgroundColor;\n\t} else if ( !! backgroundColor ) {\n\t\tcolors.backgroundColor = backgroundColor;\n\t} else if ( !! style?.color?.background ) {\n\t\tcolors.customTextColor = style.color.background;\n\t}\n\n\treturn colors;\n}\n\nexport function getNavigationChildBlockProps( innerBlocksColors ) {\n\treturn {\n\t\tclassName: classnames( 'wp-block-navigation__submenu-container', {\n\t\t\t'has-text-color': !! (\n\t\t\t\tinnerBlocksColors.textColor || innerBlocksColors.customTextColor\n\t\t\t),\n\t\t\t[ `has-${ innerBlocksColors.textColor }-color` ]:\n\t\t\t\t!! innerBlocksColors.textColor,\n\t\t\t'has-background': !! (\n\t\t\t\tinnerBlocksColors.backgroundColor ||\n\t\t\t\tinnerBlocksColors.customBackgroundColor\n\t\t\t),\n\t\t\t[ `has-${ innerBlocksColors.backgroundColor }-background-color` ]:\n\t\t\t\t!! innerBlocksColors.backgroundColor,\n\t\t} ),\n\t\tstyle: {\n\t\t\tcolor: innerBlocksColors.customTextColor,\n\t\t\tbackgroundColor: innerBlocksColors.customBackgroundColor,\n\t\t},\n\t};\n}\n"],"mappings":"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"}