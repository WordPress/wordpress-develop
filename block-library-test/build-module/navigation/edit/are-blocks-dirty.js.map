{"version":3,"names":["areBlocksDirty","originalBlocks","blocks","isDeepEqual","prop","x","name","y","shouldSkip","undefined","Object","keys","length","hasOwnProperty"],"sources":["@wordpress/block-library/src/navigation/edit/are-blocks-dirty.js"],"sourcesContent":["export function areBlocksDirty( originalBlocks, blocks ) {\n\treturn ! isDeepEqual( originalBlocks, blocks, ( prop, x ) => {\n\t\t// Skip inner blocks of page list during comparison as they\n\t\t// are **always** controlled and may be updated async due to\n\t\t// syncing with entity records. Left unchecked this would\n\t\t// inadvertently trigger the dirty state.\n\t\tif ( x?.name === 'core/page-list' && prop === 'innerBlocks' ) {\n\t\t\treturn true;\n\t\t}\n\t} );\n}\n\n/**\n * Conditionally compares two candidates for deep equality.\n * Provides an option to skip a given property of an object during comparison.\n *\n * @param {*}                  x          1st candidate for comparison\n * @param {*}                  y          2nd candidate for comparison\n * @param {Function|undefined} shouldSkip a function which can be used to skip a given property of an object.\n * @return {boolean}                      whether the two candidates are deeply equal.\n */\nconst isDeepEqual = ( x, y, shouldSkip ) => {\n\tif ( x === y ) {\n\t\treturn true;\n\t} else if (\n\t\ttypeof x === 'object' &&\n\t\tx !== null &&\n\t\tx !== undefined &&\n\t\ttypeof y === 'object' &&\n\t\ty !== null &&\n\t\ty !== undefined\n\t) {\n\t\tif ( Object.keys( x ).length !== Object.keys( y ).length ) return false;\n\n\t\tfor ( const prop in x ) {\n\t\t\tif ( y.hasOwnProperty( prop ) ) {\n\t\t\t\t// Afford skipping a given property of an object.\n\t\t\t\tif ( shouldSkip && shouldSkip( prop, x ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tif ( ! isDeepEqual( x[ prop ], y[ prop ], shouldSkip ) )\n\t\t\t\t\treturn false;\n\t\t\t} else return false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n"],"mappings":"AAAA,OAAO,SAASA,cAAcA,CAAEC,cAAc,EAAEC,MAAM,EAAG;EACxD,OAAO,CAAEC,WAAW,CAAEF,cAAc,EAAEC,MAAM,EAAE,CAAEE,IAAI,EAAEC,CAAC,KAAM;IAC5D;IACA;IACA;IACA;IACA,IAAKA,CAAC,EAAEC,IAAI,KAAK,gBAAgB,IAAIF,IAAI,KAAK,aAAa,EAAG;MAC7D,OAAO,IAAI;IACZ;EACD,CAAE,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMD,WAAW,GAAGA,CAAEE,CAAC,EAAEE,CAAC,EAAEC,UAAU,KAAM;EAC3C,IAAKH,CAAC,KAAKE,CAAC,EAAG;IACd,OAAO,IAAI;EACZ,CAAC,MAAM,IACN,OAAOF,CAAC,KAAK,QAAQ,IACrBA,CAAC,KAAK,IAAI,IACVA,CAAC,KAAKI,SAAS,IACf,OAAOF,CAAC,KAAK,QAAQ,IACrBA,CAAC,KAAK,IAAI,IACVA,CAAC,KAAKE,SAAS,EACd;IACD,IAAKC,MAAM,CAACC,IAAI,CAAEN,CAAE,CAAC,CAACO,MAAM,KAAKF,MAAM,CAACC,IAAI,CAAEJ,CAAE,CAAC,CAACK,MAAM,EAAG,OAAO,KAAK;IAEvE,KAAM,MAAMR,IAAI,IAAIC,CAAC,EAAG;MACvB,IAAKE,CAAC,CAACM,cAAc,CAAET,IAAK,CAAC,EAAG;QAC/B;QACA,IAAKI,UAAU,IAAIA,UAAU,CAAEJ,IAAI,EAAEC,CAAE,CAAC,EAAG;UAC1C,OAAO,IAAI;QACZ;QAEA,IAAK,CAAEF,WAAW,CAAEE,CAAC,CAAED,IAAI,CAAE,EAAEG,CAAC,CAAEH,IAAI,CAAE,EAAEI,UAAW,CAAC,EACrD,OAAO,KAAK;MACd,CAAC,MAAM,OAAO,KAAK;IACpB;IAEA,OAAO,IAAI;EACZ;EAEA,OAAO,KAAK;AACb,CAAC"}