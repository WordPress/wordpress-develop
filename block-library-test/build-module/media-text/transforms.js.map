{"version":3,"names":["createBlock","transforms","from","type","blocks","transform","alt","url","id","anchor","mediaAlt","mediaId","mediaUrl","mediaType","src","align","backgroundType","customGradient","customOverlayColor","gradient","overlayColor","style","textColor","innerBlocks","additionalAttributes","color","background","text","backgroundColor","to","isMatch","focalPoint","coverAttributes","dimRatio"],"sources":["@wordpress/block-library/src/media-text/transforms.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/image' ],\n\t\t\ttransform: ( { alt, url, id, anchor } ) =>\n\t\t\t\tcreateBlock( 'core/media-text', {\n\t\t\t\t\tmediaAlt: alt,\n\t\t\t\t\tmediaId: id,\n\t\t\t\t\tmediaUrl: url,\n\t\t\t\t\tmediaType: 'image',\n\t\t\t\t\tanchor,\n\t\t\t\t} ),\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/video' ],\n\t\t\ttransform: ( { src, id, anchor } ) =>\n\t\t\t\tcreateBlock( 'core/media-text', {\n\t\t\t\t\tmediaId: id,\n\t\t\t\t\tmediaUrl: src,\n\t\t\t\t\tmediaType: 'video',\n\t\t\t\t\tanchor,\n\t\t\t\t} ),\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/cover' ],\n\t\t\ttransform: (\n\t\t\t\t{\n\t\t\t\t\talign,\n\t\t\t\t\talt,\n\t\t\t\t\tanchor,\n\t\t\t\t\tbackgroundType,\n\t\t\t\t\tcustomGradient,\n\t\t\t\t\tcustomOverlayColor,\n\t\t\t\t\tgradient,\n\t\t\t\t\tid,\n\t\t\t\t\toverlayColor,\n\t\t\t\t\tstyle,\n\t\t\t\t\ttextColor,\n\t\t\t\t\turl,\n\t\t\t\t},\n\t\t\t\tinnerBlocks\n\t\t\t) => {\n\t\t\t\tlet additionalAttributes = {};\n\n\t\t\t\tif ( customGradient ) {\n\t\t\t\t\tadditionalAttributes = {\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tcolor: {\n\t\t\t\t\t\t\t\tgradient: customGradient,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t} else if ( customOverlayColor ) {\n\t\t\t\t\tadditionalAttributes = {\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tcolor: {\n\t\t\t\t\t\t\t\tbackground: customOverlayColor,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Maintain custom text color block support value.\n\t\t\t\tif ( style?.color?.text ) {\n\t\t\t\t\tadditionalAttributes.style = {\n\t\t\t\t\t\tcolor: {\n\t\t\t\t\t\t\t...additionalAttributes.style?.color,\n\t\t\t\t\t\t\ttext: style.color.text,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn createBlock(\n\t\t\t\t\t'core/media-text',\n\t\t\t\t\t{\n\t\t\t\t\t\talign,\n\t\t\t\t\t\tanchor,\n\t\t\t\t\t\tbackgroundColor: overlayColor,\n\t\t\t\t\t\tgradient,\n\t\t\t\t\t\tmediaAlt: alt,\n\t\t\t\t\t\tmediaId: id,\n\t\t\t\t\t\tmediaType: backgroundType,\n\t\t\t\t\t\tmediaUrl: url,\n\t\t\t\t\t\ttextColor,\n\t\t\t\t\t\t...additionalAttributes,\n\t\t\t\t\t},\n\t\t\t\t\tinnerBlocks\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tto: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/image' ],\n\t\t\tisMatch: ( { mediaType, mediaUrl } ) => {\n\t\t\t\treturn ! mediaUrl || mediaType === 'image';\n\t\t\t},\n\t\t\ttransform: ( { mediaAlt, mediaId, mediaUrl, anchor } ) => {\n\t\t\t\treturn createBlock( 'core/image', {\n\t\t\t\t\talt: mediaAlt,\n\t\t\t\t\tid: mediaId,\n\t\t\t\t\turl: mediaUrl,\n\t\t\t\t\tanchor,\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/video' ],\n\t\t\tisMatch: ( { mediaType, mediaUrl } ) => {\n\t\t\t\treturn ! mediaUrl || mediaType === 'video';\n\t\t\t},\n\t\t\ttransform: ( { mediaId, mediaUrl, anchor } ) => {\n\t\t\t\treturn createBlock( 'core/video', {\n\t\t\t\t\tid: mediaId,\n\t\t\t\t\tsrc: mediaUrl,\n\t\t\t\t\tanchor,\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/cover' ],\n\t\t\ttransform: (\n\t\t\t\t{\n\t\t\t\t\talign,\n\t\t\t\t\tanchor,\n\t\t\t\t\tbackgroundColor,\n\t\t\t\t\tfocalPoint,\n\t\t\t\t\tgradient,\n\t\t\t\t\tmediaAlt,\n\t\t\t\t\tmediaId,\n\t\t\t\t\tmediaType,\n\t\t\t\t\tmediaUrl,\n\t\t\t\t\tstyle,\n\t\t\t\t\ttextColor,\n\t\t\t\t},\n\t\t\t\tinnerBlocks\n\t\t\t) => {\n\t\t\t\tconst additionalAttributes = {};\n\n\t\t\t\t// Migrate the background styles or gradient to Cover's custom\n\t\t\t\t// gradient and overlay properties.\n\t\t\t\tif ( style?.color?.gradient ) {\n\t\t\t\t\tadditionalAttributes.customGradient = style.color.gradient;\n\t\t\t\t} else if ( style?.color?.background ) {\n\t\t\t\t\tadditionalAttributes.customOverlayColor =\n\t\t\t\t\t\tstyle.color.background;\n\t\t\t\t}\n\n\t\t\t\t// Maintain custom text color support style.\n\t\t\t\tif ( style?.color?.text ) {\n\t\t\t\t\tadditionalAttributes.style = {\n\t\t\t\t\t\tcolor: { text: style.color.text },\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tconst coverAttributes = {\n\t\t\t\t\talign,\n\t\t\t\t\talt: mediaAlt,\n\t\t\t\t\tanchor,\n\t\t\t\t\tbackgroundType: mediaType,\n\t\t\t\t\tdimRatio: !! mediaUrl ? 50 : 100,\n\t\t\t\t\tfocalPoint,\n\t\t\t\t\tgradient,\n\t\t\t\t\tid: mediaId,\n\t\t\t\t\toverlayColor: backgroundColor,\n\t\t\t\t\ttextColor,\n\t\t\t\t\turl: mediaUrl,\n\t\t\t\t\t...additionalAttributes,\n\t\t\t\t};\n\n\t\t\t\treturn createBlock(\n\t\t\t\t\t'core/cover',\n\t\t\t\t\tcoverAttributes,\n\t\t\t\t\tinnerBlocks\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport default transforms;\n"],"mappings":"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"}