{"version":3,"names":["View","useWindowDimensions","useConvertUnitToMobile","getPxFromCssUnit","withPreferredColorScheme","InspectorControls","isValueSpacingPreset","useSettings","getCustomValueFromPreset","useEffect","Controls","DEFAULT_VALUES","styles","DEFAULT_FONT_SIZE","Spacer","attributes","context","setAttributes","isSelected","getStylesFromColorScheme","height","screenHeight","width","screenWidth","cssUnitOptions","fontSize","spacingSizes","name","slug","size","settingsSizes","push","orientation","defaultStyle","staticSpacer","staticDarkSpacer","convertedHeight","convertedWidth","presetValues","heightValue","parsedPresetHeightValue","parseFloat","px","presetHeight","widthValue","parsedPresetWidthValue","presetWidth","createElement","style","selectedSpacer"],"sources":["@wordpress/block-library/src/spacer/edit.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { View, useWindowDimensions } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseConvertUnitToMobile,\n\tgetPxFromCssUnit,\n} from '@wordpress/components';\nimport { withPreferredColorScheme } from '@wordpress/compose';\nimport {\n\tInspectorControls,\n\tisValueSpacingPreset,\n\tuseSettings,\n\tgetCustomValueFromPreset,\n} from '@wordpress/block-editor';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Controls, { DEFAULT_VALUES } from './controls';\nimport styles from './editor.native.scss';\n\nconst DEFAULT_FONT_SIZE = 16;\n\nconst Spacer = ( {\n\tattributes,\n\tcontext,\n\tsetAttributes,\n\tisSelected,\n\tgetStylesFromColorScheme,\n} ) => {\n\tconst { height: screenHeight, width: screenWidth } = useWindowDimensions();\n\tconst cssUnitOptions = {\n\t\theight: screenHeight,\n\t\twidth: screenWidth,\n\t\tfontSize: DEFAULT_FONT_SIZE,\n\t};\n\tconst { height, width } = attributes;\n\tconst spacingSizes = [ { name: 0, slug: '0', size: 0 } ];\n\tconst [ settingsSizes ] = useSettings( 'spacing.spacingSizes' );\n\tif ( settingsSizes ) {\n\t\tspacingSizes.push( ...settingsSizes );\n\t}\n\tconst { orientation } = context;\n\tconst defaultStyle = getStylesFromColorScheme(\n\t\tstyles.staticSpacer,\n\t\tstyles.staticDarkSpacer\n\t);\n\n\tuseEffect( () => {\n\t\tif ( orientation === 'horizontal' && ! width ) {\n\t\t\tsetAttributes( {\n\t\t\t\theight: '0px',\n\t\t\t\twidth: '72px',\n\t\t\t} );\n\t\t}\n\t}, [] );\n\n\tlet convertedHeight = useConvertUnitToMobile( height );\n\tlet convertedWidth = useConvertUnitToMobile( width );\n\tconst presetValues = {};\n\n\tif ( isValueSpacingPreset( height ) ) {\n\t\tconst heightValue = getCustomValueFromPreset( height, spacingSizes );\n\t\tconst parsedPresetHeightValue = parseFloat(\n\t\t\tgetPxFromCssUnit( heightValue, cssUnitOptions )\n\t\t);\n\n\t\tconvertedHeight = parsedPresetHeightValue || DEFAULT_VALUES.px;\n\t\tpresetValues.presetHeight = convertedHeight;\n\t}\n\n\tif ( isValueSpacingPreset( width ) ) {\n\t\tconst widthValue = getCustomValueFromPreset( width, spacingSizes );\n\t\tconst parsedPresetWidthValue = parseFloat(\n\t\t\tgetPxFromCssUnit( widthValue, cssUnitOptions )\n\t\t);\n\n\t\tconvertedWidth = parsedPresetWidthValue || DEFAULT_VALUES.px;\n\t\tpresetValues.presetWidth = convertedWidth;\n\t}\n\n\treturn (\n\t\t<View\n\t\t\tstyle={ [\n\t\t\t\tdefaultStyle,\n\t\t\t\tisSelected && styles.selectedSpacer,\n\t\t\t\t{ height: convertedHeight, width: convertedWidth },\n\t\t\t] }\n\t\t>\n\t\t\t{ isSelected && (\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<Controls\n\t\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t\tcontext={ context }\n\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\t{ ...presetValues }\n\t\t\t\t\t/>\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\t\t</View>\n\t);\n};\n\nexport default withPreferredColorScheme( Spacer );\n"],"mappings":"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"}