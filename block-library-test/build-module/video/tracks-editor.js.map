{"version":3,"names":["__","sprintf","NavigableMenu","MenuItem","FormFileUpload","MenuGroup","ToolbarGroup","ToolbarButton","Dropdown","Button","TextControl","SelectControl","__experimentalGrid","Grid","__experimentalHStack","HStack","__experimentalVStack","VStack","MediaUpload","MediaUploadCheck","store","blockEditorStore","upload","media","useSelect","useState","getFilename","ALLOWED_TYPES","DEFAULT_KIND","KIND_OPTIONS","label","value","TrackList","tracks","onEditPress","content","length","createElement","className","map","track","index","key","variant","onClick","SingleTrackEditor","onChange","onClose","onRemove","src","srcLang","kind","fileName","startsWith","spacing","columns","gap","__nextHasNoMarginBottom","autoFocus","newLabel","help","newSrcLang","options","newKind","changes","hasChanges","undefined","isDestructive","TracksEditor","mediaUpload","select","getSettings","trackBeingEdited","setTrackBeingEdited","contentClassName","renderToggle","isOpen","onToggle","showTooltip","renderContent","newTrack","newTracks","filter","_track","Fragment","onSelect","url","trackIndex","allowedTypes","render","open","icon","event","files","target","filesList","onFileChange","accept","openFileDialog"],"sources":["@wordpress/block-library/src/video/tracks-editor.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tNavigableMenu,\n\tMenuItem,\n\tFormFileUpload,\n\tMenuGroup,\n\tToolbarGroup,\n\tToolbarButton,\n\tDropdown,\n\tButton,\n\tTextControl,\n\tSelectControl,\n\t__experimentalGrid as Grid,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport {\n\tMediaUpload,\n\tMediaUploadCheck,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { upload, media } from '@wordpress/icons';\nimport { useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport { getFilename } from '@wordpress/url';\n\nconst ALLOWED_TYPES = [ 'text/vtt' ];\n\nconst DEFAULT_KIND = 'subtitles';\n\nconst KIND_OPTIONS = [\n\t{ label: __( 'Subtitles' ), value: 'subtitles' },\n\t{ label: __( 'Captions' ), value: 'captions' },\n\t{ label: __( 'Descriptions' ), value: 'descriptions' },\n\t{ label: __( 'Chapters' ), value: 'chapters' },\n\t{ label: __( 'Metadata' ), value: 'metadata' },\n];\n\nfunction TrackList( { tracks, onEditPress } ) {\n\tlet content;\n\tif ( tracks.length === 0 ) {\n\t\tcontent = (\n\t\t\t<p className=\"block-library-video-tracks-editor__tracks-informative-message\">\n\t\t\t\t{ __(\n\t\t\t\t\t'Tracks can be subtitles, captions, chapters, or descriptions. They help make your content more accessible to a wider range of users.'\n\t\t\t\t) }\n\t\t\t</p>\n\t\t);\n\t} else {\n\t\tcontent = tracks.map( ( track, index ) => {\n\t\t\treturn (\n\t\t\t\t<HStack\n\t\t\t\t\tkey={ index }\n\t\t\t\t\tclassName=\"block-library-video-tracks-editor__track-list-track\"\n\t\t\t\t>\n\t\t\t\t\t<span>{ track.label } </span>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ () => onEditPress( index ) }\n\t\t\t\t\t\taria-label={ sprintf(\n\t\t\t\t\t\t\t/* translators: %s: Label of the video text track e.g: \"French subtitles\" */\n\t\t\t\t\t\t\t__( 'Edit %s' ),\n\t\t\t\t\t\t\ttrack.label\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Edit' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t);\n\t\t} );\n\t}\n\treturn (\n\t\t<MenuGroup\n\t\t\tlabel={ __( 'Text tracks' ) }\n\t\t\tclassName=\"block-library-video-tracks-editor__track-list\"\n\t\t>\n\t\t\t{ content }\n\t\t</MenuGroup>\n\t);\n}\n\nfunction SingleTrackEditor( { track, onChange, onClose, onRemove } ) {\n\tconst { src = '', label = '', srcLang = '', kind = DEFAULT_KIND } = track;\n\tconst fileName = src.startsWith( 'blob:' ) ? '' : getFilename( src ) || '';\n\treturn (\n\t\t<NavigableMenu>\n\t\t\t<VStack\n\t\t\t\tclassName=\"block-library-video-tracks-editor__single-track-editor\"\n\t\t\t\tspacing=\"4\"\n\t\t\t>\n\t\t\t\t<span className=\"block-library-video-tracks-editor__single-track-editor-edit-track-label\">\n\t\t\t\t\t{ __( 'Edit track' ) }\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t{ __( 'File' ) }: <b>{ fileName }</b>\n\t\t\t\t</span>\n\t\t\t\t<Grid columns={ 2 } gap={ 4 }>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-autofocus */\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t/* eslint-enable jsx-a11y/no-autofocus */\n\t\t\t\t\t\tonChange={ ( newLabel ) =>\n\t\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\t\t...track,\n\t\t\t\t\t\t\t\tlabel: newLabel,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel={ __( 'Label' ) }\n\t\t\t\t\t\tvalue={ label }\n\t\t\t\t\t\thelp={ __( 'Title of track' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tonChange={ ( newSrcLang ) =>\n\t\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\t\t...track,\n\t\t\t\t\t\t\t\tsrcLang: newSrcLang,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel={ __( 'Source language' ) }\n\t\t\t\t\t\tvalue={ srcLang }\n\t\t\t\t\t\thelp={ __( 'Language tag (en, fr, etc.)' ) }\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<VStack spacing=\"8\">\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tclassName=\"block-library-video-tracks-editor__single-track-editor-kind-select\"\n\t\t\t\t\t\toptions={ KIND_OPTIONS }\n\t\t\t\t\t\tvalue={ kind }\n\t\t\t\t\t\tlabel={ __( 'Kind' ) }\n\t\t\t\t\t\tonChange={ ( newKind ) => {\n\t\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\t\t...track,\n\t\t\t\t\t\t\t\tkind: newKind,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack className=\"block-library-video-tracks-editor__single-track-editor-buttons-container\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tconst changes = {};\n\t\t\t\t\t\t\t\tlet hasChanges = false;\n\t\t\t\t\t\t\t\tif ( label === '' ) {\n\t\t\t\t\t\t\t\t\tchanges.label = __( 'English' );\n\t\t\t\t\t\t\t\t\thasChanges = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( srcLang === '' ) {\n\t\t\t\t\t\t\t\t\tchanges.srcLang = 'en';\n\t\t\t\t\t\t\t\t\thasChanges = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( track.kind === undefined ) {\n\t\t\t\t\t\t\t\t\tchanges.kind = DEFAULT_KIND;\n\t\t\t\t\t\t\t\t\thasChanges = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( hasChanges ) {\n\t\t\t\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\t\t\t\t...track,\n\t\t\t\t\t\t\t\t\t\t...changes,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Close' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\tonClick={ onRemove }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Remove track' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</VStack>\n\t\t</NavigableMenu>\n\t);\n}\n\nexport default function TracksEditor( { tracks = [], onChange } ) {\n\tconst mediaUpload = useSelect( ( select ) => {\n\t\treturn select( blockEditorStore ).getSettings().mediaUpload;\n\t}, [] );\n\tconst [ trackBeingEdited, setTrackBeingEdited ] = useState( null );\n\n\tif ( ! mediaUpload ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<Dropdown\n\t\t\tcontentClassName=\"block-library-video-tracks-editor\"\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tlabel={ __( 'Text tracks' ) }\n\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Text tracks' ) }\n\t\t\t\t\t</ToolbarButton>\n\t\t\t\t</ToolbarGroup>\n\t\t\t) }\n\t\t\trenderContent={ () => {\n\t\t\t\tif ( trackBeingEdited !== null ) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<SingleTrackEditor\n\t\t\t\t\t\t\ttrack={ tracks[ trackBeingEdited ] }\n\t\t\t\t\t\t\tonChange={ ( newTrack ) => {\n\t\t\t\t\t\t\t\tconst newTracks = [ ...tracks ];\n\t\t\t\t\t\t\t\tnewTracks[ trackBeingEdited ] = newTrack;\n\t\t\t\t\t\t\t\tonChange( newTracks );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tonClose={ () => setTrackBeingEdited( null ) }\n\t\t\t\t\t\t\tonRemove={ () => {\n\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\ttracks.filter(\n\t\t\t\t\t\t\t\t\t\t( _track, index ) =>\n\t\t\t\t\t\t\t\t\t\t\tindex !== trackBeingEdited\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tsetTrackBeingEdited( null );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<NavigableMenu>\n\t\t\t\t\t\t\t<TrackList\n\t\t\t\t\t\t\t\ttracks={ tracks }\n\t\t\t\t\t\t\t\tonEditPress={ setTrackBeingEdited }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<MenuGroup\n\t\t\t\t\t\t\t\tclassName=\"block-library-video-tracks-editor__add-tracks-container\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Add tracks' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\t\tonSelect={ ( { url } ) => {\n\t\t\t\t\t\t\t\t\t\tconst trackIndex = tracks.length;\n\t\t\t\t\t\t\t\t\t\tonChange( [ ...tracks, { src: url } ] );\n\t\t\t\t\t\t\t\t\t\tsetTrackBeingEdited( trackIndex );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tallowedTypes={ ALLOWED_TYPES }\n\t\t\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\ticon={ media }\n\t\t\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Open Media Library' ) }\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t\t\t<FormFileUpload\n\t\t\t\t\t\t\t\t\t\tonChange={ ( event ) => {\n\t\t\t\t\t\t\t\t\t\t\tconst files = event.target.files;\n\t\t\t\t\t\t\t\t\t\t\tconst trackIndex = tracks.length;\n\t\t\t\t\t\t\t\t\t\t\tmediaUpload( {\n\t\t\t\t\t\t\t\t\t\t\t\tallowedTypes: ALLOWED_TYPES,\n\t\t\t\t\t\t\t\t\t\t\t\tfilesList: files,\n\t\t\t\t\t\t\t\t\t\t\t\tonFileChange: ( [\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ url },\n\t\t\t\t\t\t\t\t\t\t\t\t] ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst newTracks = [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...tracks,\n\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t! newTracks[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrackIndex\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTracks[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrackIndex\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t] = {};\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tnewTracks[ trackIndex ] = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...tracks[ trackIndex ],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc: url,\n\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange( newTracks );\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTrackBeingEdited(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrackIndex\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\taccept=\".vtt,text/vtt\"\n\t\t\t\t\t\t\t\t\t\trender={ ( { openFileDialog } ) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={ upload }\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\topenFileDialog();\n\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Upload' ) }\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t</NavigableMenu>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t} }\n\t\t/>\n\t);\n}\n"],"mappings":"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"}