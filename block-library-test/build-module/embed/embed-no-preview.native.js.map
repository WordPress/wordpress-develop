{"version":3,"names":["TouchableOpacity","TouchableWithoutFeedback","Text","View","__","sprintf","useRef","useState","usePreferredColorSchemeStyle","requestPreview","useSelect","store","editorStore","BottomSheet","Icon","TextControl","help","BlockIcon","styles","EmbedNoPreview","label","icon","isSelected","onPress","previewable","isDefaultEmbedInfo","shouldRequestReview","isSheetVisible","setIsSheetVisible","postType","select","getEditedPostAttribute","containerStyle","embed__container","labelStyle","embed__label","descriptionStyle","embed__description","helpIconStyle","sheetIconStyle","sheetTitleStyle","sheetDescriptionStyle","sheetButtonStyle","previewButtonA11yHint","previewButtonText","comingSoonDescription","onOpenSheet","onCloseSheet","onDismissSheet","current","onPressContainer","onPressHelp","embedNoProviderPreview","createElement","Fragment","accessibilityRole","accessibilityHint","disabled","style","embed__action","toUpperCase","accessibilityLabel","fill","size","width","isVisible","hideHeader","onDismiss","onClose","testID","separatorType"],"sources":["@wordpress/block-library/src/embed/embed-no-preview.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { TouchableOpacity, TouchableWithoutFeedback, Text } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { View } from '@wordpress/primitives';\n\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useRef, useState } from '@wordpress/element';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport { requestPreview } from '@wordpress/react-native-bridge';\nimport { useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { BottomSheet, Icon, TextControl } from '@wordpress/components';\nimport { help } from '@wordpress/icons';\nimport { BlockIcon } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport styles from './styles.scss';\n\nconst EmbedNoPreview = ( {\n\tlabel,\n\ticon,\n\tisSelected,\n\tonPress,\n\tpreviewable,\n\tisDefaultEmbedInfo,\n} ) => {\n\tconst shouldRequestReview = useRef( false );\n\tconst [ isSheetVisible, setIsSheetVisible ] = useState( false );\n\n\tconst { postType } = useSelect( ( select ) => ( {\n\t\tpostType: select( editorStore ).getEditedPostAttribute( 'type' ),\n\t} ) );\n\n\tconst containerStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__container,\n\t\tstyles[ 'embed__container--dark' ]\n\t);\n\tconst labelStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__label,\n\t\tstyles[ 'embed__label--dark' ]\n\t);\n\tconst descriptionStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__description,\n\t\tstyles[ 'embed__description--dark' ]\n\t);\n\tconst helpIconStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__help-icon' ],\n\t\tstyles[ 'embed-no-preview__help-icon--dark' ]\n\t);\n\n\tconst sheetIconStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-icon' ],\n\t\tstyles[ 'embed-no-preview__sheet-icon--dark' ]\n\t);\n\tconst sheetTitleStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-title' ],\n\t\tstyles[ 'embed-no-preview__sheet-title--dark' ]\n\t);\n\tconst sheetDescriptionStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-description' ],\n\t\tstyles[ 'embed-no-preview__sheet-description--dark' ]\n\t);\n\tconst sheetButtonStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-button' ],\n\t\tstyles[ 'embed-no-preview__sheet-button--dark' ]\n\t);\n\n\tconst previewButtonA11yHint =\n\t\tpostType === 'page'\n\t\t\t? __( 'Double tap to preview page.' )\n\t\t\t: __( 'Double tap to preview post.' );\n\tconst previewButtonText =\n\t\tpostType === 'page' ? __( 'Preview page' ) : __( 'Preview post' );\n\tconst comingSoonDescription =\n\t\tpostType === 'page'\n\t\t\t? sprintf(\n\t\t\t\t\t// translators: %s: embed block variant's label e.g: \"Twitter\".\n\t\t\t\t\t__(\n\t\t\t\t\t\t'We’re working hard on adding support for %s previews. In the meantime, you can preview the embedded content on the page.'\n\t\t\t\t\t),\n\t\t\t\t\tlabel\n\t\t\t  )\n\t\t\t: sprintf(\n\t\t\t\t\t// translators: %s: embed block variant's label e.g: \"Twitter\".\n\t\t\t\t\t__(\n\t\t\t\t\t\t'We’re working hard on adding support for %s previews. In the meantime, you can preview the embedded content on the post.'\n\t\t\t\t\t),\n\t\t\t\t\tlabel\n\t\t\t  );\n\n\tfunction onOpenSheet() {\n\t\tsetIsSheetVisible( true );\n\t}\n\n\tfunction onCloseSheet() {\n\t\tsetIsSheetVisible( false );\n\t}\n\n\tfunction onDismissSheet() {\n\t\t// The preview request has to be done after the bottom sheet modal is dismissed,\n\t\t// otherwise the preview native modal is not displayed.\n\t\tif ( shouldRequestReview.current ) {\n\t\t\trequestPreview();\n\t\t}\n\t\tshouldRequestReview.current = false;\n\t}\n\n\tfunction onPressContainer() {\n\t\tonPress();\n\t\tonOpenSheet();\n\t}\n\n\tfunction onPressHelp() {\n\t\tonPressContainer();\n\t}\n\n\tconst embedNoProviderPreview = (\n\t\t<>\n\t\t\t<TouchableWithoutFeedback\n\t\t\t\taccessibilityRole={ 'button' }\n\t\t\t\taccessibilityHint={ previewButtonA11yHint }\n\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\tonPress={ onPressContainer }\n\t\t\t>\n\t\t\t\t<View style={ containerStyle }>\n\t\t\t\t\t<BlockIcon icon={ icon } />\n\t\t\t\t\t<Text style={ labelStyle }>{ label }</Text>\n\t\t\t\t\t<Text style={ descriptionStyle }>\n\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t// translators: %s: embed block variant's label e.g: \"Twitter\".\n\t\t\t\t\t\t\t__( '%s previews not yet available' ),\n\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text style={ styles.embed__action }>\n\t\t\t\t\t\t{ previewButtonText.toUpperCase() }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\taccessibilityHint={ __( 'Tap here to show help' ) }\n\t\t\t\t\t\taccessibilityLabel={ __( 'Help button' ) }\n\t\t\t\t\t\taccessibilityRole={ 'button' }\n\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t\tonPress={ onPressHelp }\n\t\t\t\t\t\tstyle={ helpIconStyle }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ticon={ help }\n\t\t\t\t\t\t\tfill={ helpIconStyle.fill }\n\t\t\t\t\t\t\tsize={ helpIconStyle.width }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</View>\n\t\t\t</TouchableWithoutFeedback>\n\t\t\t<BottomSheet\n\t\t\t\tisVisible={ isSheetVisible }\n\t\t\t\thideHeader\n\t\t\t\tonDismiss={ onDismissSheet }\n\t\t\t\tonClose={ onCloseSheet }\n\t\t\t\ttestID=\"embed-no-preview-modal\"\n\t\t\t>\n\t\t\t\t<View style={ styles[ 'embed-no-preview__container' ] }>\n\t\t\t\t\t<View style={ sheetIconStyle }>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ticon={ help }\n\t\t\t\t\t\t\tfill={ sheetIconStyle.fill }\n\t\t\t\t\t\t\tsize={ sheetIconStyle.width }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</View>\n\t\t\t\t\t<Text style={ sheetTitleStyle }>\n\t\t\t\t\t\t{ isDefaultEmbedInfo\n\t\t\t\t\t\t\t? __( 'Embed block previews are coming soon' )\n\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t// translators: %s: embed block variant's label e.g: \"Twitter\".\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'%s embed block previews are coming soon'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text style={ sheetDescriptionStyle }>\n\t\t\t\t\t\t{ comingSoonDescription }\n\t\t\t\t\t</Text>\n\t\t\t\t</View>\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ previewButtonText }\n\t\t\t\t\tseparatorType=\"topFullWidth\"\n\t\t\t\t\tonPress={ () => {\n\t\t\t\t\t\tshouldRequestReview.current = true;\n\t\t\t\t\t\tonCloseSheet();\n\t\t\t\t\t} }\n\t\t\t\t\tlabelStyle={ sheetButtonStyle }\n\t\t\t\t/>\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ __( 'Dismiss' ) }\n\t\t\t\t\tseparatorType=\"topFullWidth\"\n\t\t\t\t\tonPress={ onCloseSheet }\n\t\t\t\t\tlabelStyle={ sheetButtonStyle }\n\t\t\t\t/>\n\t\t\t</BottomSheet>\n\t\t</>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{ previewable ? (\n\t\t\t\tembedNoProviderPreview\n\t\t\t) : (\n\t\t\t\t<View style={ containerStyle }>\n\t\t\t\t\t<BlockIcon icon={ icon } />\n\t\t\t\t\t<Text style={ labelStyle }>\n\t\t\t\t\t\t{ __( 'No preview available' ) }\n\t\t\t\t\t</Text>\n\t\t\t\t</View>\n\t\t\t) }\n\t\t</>\n\t);\n};\n\nexport default EmbedNoPreview;\n"],"mappings":"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"}